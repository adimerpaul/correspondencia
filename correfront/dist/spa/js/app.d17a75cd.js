(()=>{"use strict";var e={3535:(e,t,o)=>{o(5363),o(71);var a=o(8880),i=o(9592),l=o(3673);function s(e,t,o,a,i,s){const n=(0,l.up)("router-view");return(0,l.wg)(),(0,l.j4)(n)}const n=(0,l.aZ)({name:"App"});n.render=s;const r=n;var d=o(214),c=o(7083),u=o(9582);const m={class:"row"},p=(0,l._)("div",{class:"col-12 col-md-2"},null,-1),h={class:"col-12 col-md-8"},g=(0,l._)("div",{class:"text-h6"},"Ingresar al Sistema ",-1),f=(0,l.Uk)(" Por favor colocar email y contraseña "),w={class:"row"},b={class:"col-12"},_={class:"col-12 q-pt-md"},v={class:"col-12 q-py-md"},x=(0,l._)("div",{class:"text-caption q-py-xs"},[(0,l._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone=59169603027&text=olvide mi contraseña"},"Olvidate tu contraseña?")],-1),q=(0,l._)("div",{class:"col-12 col-md-2"},null,-1);function k(e,t,o,i,s,n){const r=(0,l.up)("q-tab"),d=(0,l.up)("q-tabs"),c=(0,l.up)("q-separator"),u=(0,l.up)("q-icon"),k=(0,l.up)("q-input"),y=(0,l.up)("q-btn"),W=(0,l.up)("q-form"),V=(0,l.up)("q-tab-panel"),C=(0,l.up)("q-tab-panels"),D=(0,l.up)("q-card"),S=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(S,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l._)("div",m,[p,(0,l._)("div",h,[(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{modelValue:s.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>s.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{name:"login",label:"Ingresar"})])),_:1},8,["modelValue"]),(0,l.Wm)(c),(0,l.Wm)(C,{modelValue:s.tab,"onUpdate:modelValue":t[5]||(t[5]=e=>s.tab=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{name:"login"},{default:(0,l.w5)((()=>[g,f,(0,l.Wm)(W,{onSubmit:(0,a.iM)(n.login,["prevent"])},{default:(0,l.w5)((()=>[(0,l._)("div",w,[(0,l._)("div",b,[(0,l.Wm)(k,{type:"email",outlined:"",modelValue:s.email,"onUpdate:modelValue":t[1]||(t[1]=e=>s.email=e),label:"Email*",hint:"Porfavor ingresar email",rules:s.rule},{prepend:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"email"})])),_:1},8,["modelValue","rules"])]),(0,l._)("div",_,[(0,l.Wm)(k,{outlined:"",modelValue:s.password,"onUpdate:modelValue":t[3]||(t[3]=e=>s.password=e),label:"password*",type:s.isPwd?"password":"text",hint:"Porfavor ingresar password",rules:s.rule},{prepend:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"lock"})])),append:(0,l.w5)((()=>[(0,l.Wm)(u,{name:s.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[2]||(t[2]=e=>s.isPwd=!s.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","rules"])]),(0,l._)("div",v,[(0,l.Wm)(y,{label:"INGRESAR",color:"primary",icon:"login",class:"full-width",type:"submit"}),(0,l.Wm)(y,{label:"Registrate",color:"secondary",icon:"how_to_reg",onClick:t[4]||(t[4]=e=>s.tab="registro"),class:"full-width q-mt-xs"}),x])])])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])])),_:1})]),q])])),_:1})}const y={data(){return{rule:[e=>e&&e.length>0||"Porfavor ingresar dato"],email:"",password:"",tab:"login",user:{},isPwd:!0,units:[],units2:[]}},created(){this.$store.getters["login/isLoggedIn"]&&this.$router.push("/asiganacion"),this.$q.loading.show(),this.$axios.get("https://back.gamo.cf/api/unit").then((e=>{this.units=e.data,this.units2=e.data,this.$q.loading.hide()}))},methods:{filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.units=this.units2.filter((e=>e.nombre.toLowerCase().indexOf(t)>-1))}:()=>{this.units=this.units2})},registrar(){if(""==this.user.unit||void 0==this.user.unit)return this.$q.notify({message:"Debes seleccionar unidad",color:"red",icon:"error"}),!1;this.$q.loading.show(),this.user.unit_id=this.user.unit.id,this.$store.dispatch("login/register",this.user).then((()=>{this.$q.loading.hide(),this.$router.push("/asiganacion")})).catch((e=>{this.$q.loading.hide();let t="";Object.entries(e.response.data.errors).forEach((([e,o])=>{t+=` ${e}: ${o},`})),this.$q.notify({message:t,color:"red",icon:"error"})}))},login(){this.$q.loading.show(),this.$store.dispatch("login/login",{email:this.email,password:this.password}).then((()=>{this.$q.loading.hide(),this.$router.push("/asiganacion")})).catch((e=>{this.$q.loading.hide(),console.log(e.response.data.res),this.$q.notify({message:e.response.data.res,color:"red",icon:"error"})}))}}};var W=o(4379),V=o(151),C=o(7547),D=o(3269),S=o(5869),R=o(5906),$=o(6602),U=o(8689),E=o(4842),O=o(4554),I=o(2165),Z=o(3314),A=o(7518),F=o.n(A);y.render=k;const Q=y;F()(y,"components",{QPage:W.Z,QCard:V.Z,QTabs:C.Z,QTab:D.Z,QSeparator:S.Z,QTabPanels:R.Z,QTabPanel:$.Z,QForm:U.Z,QInput:E.Z,QIcon:O.Z,QBtn:I.Z,QSelect:Z.Z});var T=o(2323);const z={class:"row"},M={class:"col-12"},P={class:"row",style:{border:"1px solid rgba(128,128,128,0.50)"}},N={class:"col-6 flex flex-center"},Y={class:"col-6 flex flex-center"},j={class:"col-sm-2 col-12 q-pa-xs"},H={class:"col-sm-6 col-12 q-pa-xs"},L={id:"browsers"},B={class:"col-sm-2 col-12 q-pa-xs"},K={class:"col-sm-2 col-12 q-pa-xs"},J={class:"col-sm-2 col-12 q-pa-xs"},G={class:"col-sm-2 col-12 q-pa-xs"},X={class:"col-sm-2 col-12 q-pa-xs"},ee={class:"col-sm-2 col-12 q-pa-xs flex flex-center"},te={class:"col-12"},oe={style:{"font-size":"0.6em",padding:"0px",margin:"0px",border:"0px","list-style":"none"}},ae={class:"text-h6"},ie=(0,l.Uk)(" Sin resultados "),le={class:"text-h6"};function se(e,t,o,i,s,n){const r=(0,l.up)("q-radio"),d=(0,l.up)("q-input"),c=(0,l.up)("q-select"),u=(0,l.up)("q-btn"),m=(0,l.up)("q-form"),p=(0,l.up)("q-icon"),h=(0,l.up)("q-td"),g=(0,l.up)("q-badge"),f=(0,l.up)("q-btn-group"),w=(0,l.up)("q-tr"),b=(0,l.up)("q-table"),_=(0,l.up)("q-card-section"),v=(0,l.up)("q-item-section"),x=(0,l.up)("q-item"),q=(0,l.up)("q-card"),k=(0,l.up)("q-dialog"),y=(0,l.up)("q-uploader"),W=(0,l.up)("q-page"),V=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(W,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l._)("div",z,[(0,l._)("div",M,[(0,l.Wm)(m,{onSubmit:(0,a.iM)(n.guardar,["prevent"])},{default:(0,l.w5)((()=>[(0,l._)("div",P,[(0,l._)("div",N,[(0,l.Wm)(r,{dense:"",modelValue:s.dato.tipo,"onUpdate:modelValue":t[0]||(t[0]=e=>s.dato.tipo=e),val:"INTERNO",label:"INTERNO"},null,8,["modelValue"])]),(0,l._)("div",Y,[(0,l.Wm)(r,{dense:"",modelValue:s.dato.tipo,"onUpdate:modelValue":t[1]||(t[1]=e=>s.dato.tipo=e),val:"EXTERNO",label:"EXTERNO"},null,8,["modelValue"])]),(0,l._)("div",j,[(0,l.Wm)(d,{style:{"text-transform":"uppercase"},dense:"",autofocus:"",label:"Referencia",modelValue:s.dato.ref,"onUpdate:modelValue":t[2]||(t[2]=e=>s.dato.ref=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",H,[(0,l.Wm)(d,{onKeyup:n.cambio,style:{"text-transform":"uppercase"},outlined:"",dense:"",label:"remitente",list:"browsers",name:"myBrowser",modelValue:s.remitente,"onUpdate:modelValue":t[3]||(t[3]=e=>s.remitente=e)},null,8,["onKeyup","modelValue"]),(0,l._)("datalist",L,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.remitentes,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id},(0,T.zw)(e.remitente),1)))),128))])]),(0,l._)("div",B,[(0,l.Wm)(d,{style:{"text-transform":"uppercase"},dense:"",label:"Cargo",modelValue:s.cargo,"onUpdate:modelValue":t[4]||(t[4]=e=>s.cargo=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",K,[(0,l.Wm)(d,{style:{"text-transform":"uppercase"},dense:"",label:"Institucion",modelValue:s.institucion,"onUpdate:modelValue":t[5]||(t[5]=e=>s.institucion=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",J,[(0,l.Wm)(d,{dense:"",label:"Fecha de correspondencia",modelValue:s.dato.fecha,"onUpdate:modelValue":t[6]||(t[6]=e=>s.dato.fecha=e),type:"date",outlined:""},null,8,["modelValue"])]),(0,l._)("div",G,[(0,l.Wm)(c,{dense:"",label:"Fojas",modelValue:s.dato.folio,"onUpdate:modelValue":t[7]||(t[7]=e=>s.dato.folio=e),options:s.folios,outlined:""},null,8,["modelValue","options"])]),(0,l._)("div",X,[(0,l.Wm)(d,{dense:"",label:"Cod externo",modelValue:s.dato.codexterno,"onUpdate:modelValue":t[8]||(t[8]=e=>s.dato.codexterno=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",ee,[void 0==s.dato.id||""==s.dato.id?((0,l.wg)(),(0,l.j4)(u,{key:0,type:"submit",color:"primary",icon:"add_circle",label:"Registrar"})):((0,l.wg)(),(0,l.j4)(u,{key:1,type:"submit",color:"amber",icon:"edit",label:"Modificar"}))])])])),_:1},8,["onSubmit"])]),(0,l._)("div",te,[(0,l.Wm)(b,{dense:"",title:"Correspondencia de unidad",rows:s.mails,columns:s.columns,filter:s.filter,"rows-per-page-options":[50,100,150,200,0]},{"top-right":(0,l.w5)((()=>[(0,l.Wm)(d,{borderless:"",dense:"",debounce:"300",modelValue:s.filter,"onUpdate:modelValue":t[9]||(t[9]=e=>s.filter=e),placeholder:"Buscar"},{append:(0,l.w5)((()=>[(0,l.Wm)(p,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,l.w5)((e=>[(0,l.Wm)(w,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{key:"codigo",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.codigo),1)])),_:2},1032,["props"]),(0,l.Wm)(h,{key:"codexterno",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.codexterno),1)])),_:2},1032,["props"]),(0,l.Wm)(h,{key:"codinterno",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.codinterno),1)])),_:2},1032,["props"]),(0,l.Wm)(h,{key:"ref",props:e},{default:(0,l.w5)((()=>[""!=e.row.ref?((0,l.wg)(),(0,l.j4)(g,{key:0,color:"info",onClick:t=>n.mostrar(e.row.ref)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.ref.substring(0,10))+"... ",1)])),_:2},1032,["onClick"])):(0,l.kq)("",!0)])),_:2},1032,["props"]),(0,l.Wm)(h,{key:"remitente",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.remitente),1)])),_:2},1032,["props"]),(0,l.Wm)(h,{key:"logs",props:e},{default:(0,l.w5)((()=>[(0,l._)("ul",oe,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.row.logs,(e=>((0,l.wg)(),(0,l.iD)("li",{key:e.id},"de "+(0,T.zw)(e.remitente)+" a "+(0,T.zw)(e.destinatario),1)))),128))])])),_:2},1032,["props"]),(0,l.Wm)(h,{key:"dias",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{color:0==e.row.dias?"positive":1==e.row.dias?"amber":"negative"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.dias)+" d ",1)])),_:2},1032,["color"])])),_:2},1032,["props"]),(0,l.Wm)(h,{key:"folio",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.folio),1)])),_:2},1032,["props"]),(0,l.Wm)(h,{key:"archivo",props:e},{default:(0,l.w5)((()=>[""!=e.row.archivo?((0,l.wg)(),(0,l.j4)(u,{key:0,label:"Descargar",color:"primary",size:"xs",type:"a",href:s.url+"/../imagenes/"+e.row.archivo,target:"__blank"},null,8,["href"])):(0,l.kq)("",!0)])),_:2},1032,["props"]),(0,l.Wm)(h,{key:"opciones",props:e},{default:(0,l.w5)((()=>["ARCHIVADO"!=e.row.estado&&"ANULADO"!=e.row.estado?((0,l.wg)(),(0,l.j4)(f,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{dense:"",onClick:t=>n.impresion(e.row.id),color:"primary",label:"ImprimirHR",icon:"timeline",size:"xs"},null,8,["onClick"]),(0,l.Wm)(u,{dense:"",onClick:t=>n.editar(e),color:"teal",label:"Editar",icon:"edit",size:"xs"},null,8,["onClick"]),(0,l.Wm)(u,{dense:"",onClick:t=>{s.diaglosasiganacion=!0,s.mail=e.row,s.miaccion="",s.usuario="",s.dest=[]},color:"positive",label:"Remitir",icon:"code",size:"xs"},null,8,["onClick"]),(0,l.Wm)(u,{dense:"",onClick:t=>n.archivar(e.row),color:"accent",label:"Terminar",icon:"list",size:"xs"},null,8,["onClick"]),(0,l.Wm)(u,{dense:"",onClick:t=>n.archivo(e.row),color:"amber",label:"Subir ",icon:"upload",size:"xs"},null,8,["onClick"])])),_:2},1024)):(0,l.kq)("",!0)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,l.Wm)(k,{modelValue:s.diaglosasiganacion,"onUpdate:modelValue":t[12]||(t[12]=e=>s.diaglosasiganacion=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{style:{width:"700px","min-width":"80vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l._)("div",ae,[(0,l.Wm)(p,{name:"code"}),(0,l.Uk)(" "+(0,T.zw)(s.mail.ref)+" Remitir",1)])])),_:1}),(0,l.Wm)(_,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{onSubmit:(0,a.iM)(n.registrarlog,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{type:"textarea",outlined:"",label:"Mi acccion",modelValue:s.miaccion,"onUpdate:modelValue":t[10]||(t[10]=e=>s.miaccion=e),required:""},null,8,["modelValue"]),(0,l.Wm)(c,{"use-input":"",options:s.usuarios,label:"Seleccionar personal",modelValue:s.usuario,"onUpdate:modelValue":t[11]||(t[11]=e=>s.usuario=e),onFilter:n.filterFn,outlined:""},{"no-option":(0,l.w5)((()=>[(0,l.Wm)(x,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"text-grey"},{default:(0,l.w5)((()=>[ie])),_:1})])),_:1})])),_:1},8,["options","modelValue","onFilter"]),(0,l.Wm)(u,{color:"secondary",label:"Agregar Dest",onClick:n.tabdest},null,8,["onClick"]),(0,l._)("table",null,[(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.dest,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,T.zw)(e.name),1)])))),128))])]),(0,l.Wm)(u,{label:"Remitir",color:"teal",icon:"send",class:"full-width",type:"submit"})])),_:1},8,["onSubmit"])])),_:1}),(0,l.Wm)(_,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(u,{flat:"",label:"Cancelar",color:"primary",icon:"delete"},null,512),[[V]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(k,{modelValue:s.dialogarchivo,"onUpdate:modelValue":t[13]||(t[13]=e=>s.dialogarchivo=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{style:{width:"300px","min-width":"40vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l._)("div",le,[(0,l.Wm)(p,{name:"list"}),(0,l.Uk)(" "+(0,T.zw)(s.mail.ref)+" Subir archivo",1)])])),_:1}),(0,l.Wm)(_,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{class:"full-width",label:"Subir archivo",factory:n.uploadFile,"max-files":"1"},null,8,["factory"])])),_:1}),(0,l.Wm)(_,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(u,{flat:"",label:"Cancelar",color:"primary",icon:"delete"},null,512),[[V]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])])),_:1})}var ne=o(1082);const re={data(){return{miaccion:"",filter:"",usuario:"",diaglosasiganacion:!1,dialogarchivo:!1,url:"https://back.gamo.cf/api",dato:{tipo:"INTERNO",fecha:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),folio:1},folios:[],usuarios:[],usuarios2:[],dest:[],mails:[],mail:{},remitentes:[],remitentes2:[],remitente:"",cargo:"",institucion:"",columns:[{field:"codigo",name:"codigo",label:"codigo",align:"right"},{field:"codexterno",name:"codexterno",label:"codexterno",align:"right"},{field:"ref",name:"ref",label:"ref",align:"right"},{field:"remitente",name:"remitente",label:"remitente",align:"right"},{field:"logs",name:"logs",label:"logs",align:"left"},{field:"dias",name:"dias",label:"dias",align:"right"},{field:"folio",name:"folio",label:"Fojas",align:"right"},{field:"archivo",name:"archivo",label:"archivo",align:"right"},{field:"opciones",name:"opciones",label:"opciones",align:"right"}]}},created(){this.misdatos();for(let e=1;e<=1e3;e++)this.folios.push(e);this.misremitentes(),this.$axios.post("https://back.gamo.cf/api/usuarios").then((e=>{e.data.forEach((e=>{this.usuarios.push({id:e.id,name:e.name,unit_id:e.unit_id,label:e.unit.nombre+"-"+e.name})})),this.usuarios2=this.usuarios}))},methods:{tabdest(){let e=!1;this.dest.forEach((t=>{t.id==this.usuario.id&&(e=!0)})),e||this.dest.push(this.usuario)},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.usuarios=this.usuarios2.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.usuarios=this.usuarios2})},uploadFile(e){this.file_path=e[0];const t=new FormData;t.append("imagen",this.file_path),t.append("mail_id",this.mail.id),this.$q.loading.show();this.$axios.post("https://back.gamo.cf/api/upload",t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.misdatos(),this.$q.loading.hide(),this.dialogarchivo=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Imagen subido correctamente!"})}))},registrarlog(){if(console.log(this.dest),0==this.dest.length)return this.$q.notify({message:"Debe seleccionar al menos 1 Dest",color:"red",icon:"error"}),!1;this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/log",{mail_id:this.mail.id,list_user:this.dest,accion:this.miaccion}).then((e=>{this.misdatos(),this.$q.loading.hide(),this.diaglosasiganacion=!1,this.$q.notify({message:"Renviado correctamente!!",color:"green",icon:"done"})})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"red",icon:"error"}),this.$q.loading.hide()}))},misremitentes(){this.$axios.get("https://back.gamo.cf/api/mail/create").then((e=>{this.remitentes=e.data}))},cambio(){this.cargo="",this.institucion="",this.remitentes.find((e=>{if(e.remitente===this.remitente)return this.cargo=e.cargo,this.institucion=e.institucion,!1}))},mostrar(e){this.$q.dialog({title:"Referencia",message:e})},archivar(e){this.$q.dialog({title:"Seguro de archivar?",message:"Motivo de archivar",prompt:{model:"",type:"text"},cancel:!0}).onOk((t=>{this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/anulado",{mail_id:e.id,accion:t,estado:"ARCHIVAR"}).then((e=>{this.misdatos(),this.$q.notify({message:"Archivado",caption:"Registro archivado",color:"green",icon:"done"})}))}))},archivo(e){this.mail=e,this.dialogarchivo=!0},dividir(e){this.$q.dialog({title:"En cuantos deseas dividir?",message:"Cantidad de divicion",prompt:{model:"",type:"number"},cancel:!0}).onOk((t=>{this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/dividir",{cantidad:t,mail_id:e.id}).then((e=>{this.misdatos(),this.$q.notify({message:"Dividido",caption:"Registro dividido",color:"green",icon:"done"})}))}))},editar(e){this.dato=e.row,this.remitente=e.row.remitente,this.cargo=e.row.cargo,this.institucion=e.row.institucion},misdatos(){this.$q.loading.show(),this.$axios.get("https://back.gamo.cf/api/mail").then((e=>{this.mails=[],e.data.forEach((e=>{const t=new Date,o=ne.ZP.extractDate(e.fecha,"YYYY-MM-DD"),a=ne.ZP.getDateDiff(t,o,"days");this.mails.push({id:e.id,codigo:e.codigo,tipo:e.tipo,tipo2:e.tipo2,ref:e.ref,remitente:e.remitente,cargo:e.cargo,institucion:e.institucion,fecha:e.fecha,fechacarta:e.fechacarta,estado:e.estado,folio:e.folio,archivo:e.archivo,codinterno:e.codinterno,codexterno:e.codexterno,logs:e.logs,dias:a})})),this.$q.loading.hide()}))},anular(e){this.$q.dialog({title:"Seguro de anular?",message:"Motivo de anular",prompt:{model:"",type:"text"},cancel:!0}).onOk((t=>{this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/anulado",{mail_id:e.id,accion:t,estado:"ANULADO"}).then((e=>{this.misdatos(),this.$q.notify({message:"Anulado",caption:"Registro anulado",color:"green",icon:"done"})}))}))},impresion(e){this.$axios.post("https://back.gamo.cf/api/impruta/"+e).then((e=>{console.log(e.data);let t=window.open("","Imprimir","width=200,height=100");t.document.write(e.data),t.document.close(),t.focus(),setTimeout((function(){t.print(),t.close()}),500)}))},guardar(){if(!confirm("seguro de continuar?"))return!1;this.dato.remitente=this.remitente,this.dato.cargo=this.cargo,this.dato.institucion=this.institucion,void 0==this.dato.id||""==this.dato.id?(this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/mail",this.dato).then((e=>{console.log(e.data),this.dato={tipo:"INTERNO",fecha:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),folio:1},this.remitente="",this.cargo="",this.institucion="",this.misdatos(),this.misremitentes()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))):(this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/updatemail",this.dato).then((e=>{this.dato={tipo:"INTERNO",fecha:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),folio:1},this.remitente="",this.cargo="",this.institucion="",this.misdatos(),this.misremitentes()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red",icon:"error"})})))}}};var de=o(7991),ce=o(6429),ue=o(8186),me=o(3884),pe=o(9721),he=o(6375),ge=o(6778),fe=o(5589),we=o(3414),be=o(2035),_e=o(5252),ve=o(677);re.render=se;const xe=re;F()(re,"components",{QPage:W.Z,QForm:U.Z,QRadio:de.Z,QInput:E.Z,QSelect:Z.Z,QBtn:I.Z,QTable:ce.Z,QIcon:O.Z,QTr:ue.Z,QTd:me.Z,QBadge:pe.Z,QBtnGroup:he.Z,QDialog:ge.Z,QCard:V.Z,QCardSection:fe.Z,QItem:we.Z,QItemSection:be.Z,QUploader:_e.Z}),F()(re,"directives",{ClosePopup:ve.Z});const qe={class:"q-pa-md"},ke={class:"text-h7"},ye=(0,l.Uk)(" REGISTRO DE NUEVO USUARIO"),We={class:"row"},Ve={class:"col-6"},Ce={class:"col-6"},De=(0,l._)("div",{class:"text-5"},"Permisos",-1),Se={class:"text-h7"},Re=(0,l.Uk)(" MODIFICAR DATOS DE USUARIO"),$e=(0,l._)("span",{class:"q-ml-sm"},"Seguro de eliminar Registro.",-1),Ue={class:"text-h7 text-white"},Ee=(0,l.Uk)(" PERMISOS DE ACCESO");function Oe(e,t,o,i,s,n){const r=(0,l.up)("q-btn"),d=(0,l.up)("q-icon"),c=(0,l.up)("q-card-section"),u=(0,l.up)("q-input"),m=(0,l.up)("q-select"),p=(0,l.up)("q-checkbox"),h=(0,l.up)("q-form"),g=(0,l.up)("q-card"),f=(0,l.up)("q-dialog"),w=(0,l.up)("q-td"),b=(0,l.up)("q-badge"),_=(0,l.up)("q-tr"),v=(0,l.up)("q-table"),x=(0,l.up)("q-avatar"),q=(0,l.up)("q-card-actions"),k=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)("div",qe,[(0,l.Wm)(r,{label:"Nuevo usuario",color:"positive",onClick:t[0]||(t[0]=e=>s.alert=!0),icon:"add_circle",class:"q-mb-xs"}),(0,l.Wm)(f,{modelValue:s.alert,"onUpdate:modelValue":t[7]||(t[7]=e=>s.alert=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{style:{"max-width":"80%",width:"50%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"bg-green-14 text-white"},{default:(0,l.w5)((()=>[(0,l._)("div",ke,[(0,l.Wm)(d,{name:"add_circle"}),ye])])),_:1}),(0,l.Wm)(c,{class:"q-pt-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{onSubmit:n.onSubmit,onReset:n.onReset,class:"q-gutter-md"},{default:(0,l.w5)((()=>[(0,l._)("div",We,[(0,l._)("div",Ve,[(0,l.Wm)(u,{filled:"",modelValue:s.dato.name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.dato.name=e),type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,l.Wm)(u,{filled:"",modelValue:s.dato.email,"onUpdate:modelValue":t[2]||(t[2]=e=>s.dato.email=e),type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,l.Wm)(u,{filled:"",modelValue:s.dato.carnet,"onUpdate:modelValue":t[3]||(t[3]=e=>s.dato.carnet=e),type:"text",label:"Carnet identidad",hint:"Carnet identidad","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,l.Wm)(m,{filled:"",modelValue:s.dato.unit,"onUpdate:modelValue":t[4]||(t[4]=e=>s.dato.unit=e),label:"Unidad",options:s.units,onFilter:n.filterFn,"use-input":"",hint:"Selecionar unidad"},null,8,["modelValue","options","onFilter"]),(0,l.Wm)(u,{filled:"",modelValue:s.dato.password,"onUpdate:modelValue":t[5]||(t[5]=e=>s.dato.password=e),type:"password",label:"Contraseña",hint:"Contraseña","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,l.Wm)(u,{filled:"",label:"Fecha limite",type:"date",hint:"Fecha limite de acceso",modelValue:s.dato.fechalimite,"onUpdate:modelValue":t[6]||(t[6]=e=>s.dato.fechalimite=e)},null,8,["modelValue"])]),(0,l._)("div",Ce,[De,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.permisos,((e,t)=>((0,l.wg)(),(0,l.j4)(p,{style:{width:"100%"},key:t,label:e.nombre,modelValue:e.estado,"onUpdate:modelValue":t=>e.estado=t},null,8,["label","modelValue","onUpdate:modelValue"])))),128))])]),(0,l._)("div",null,[(0,l.Wm)(r,{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}),(0,l.wy)((0,l.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[k]])])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(v,{filter:s.filter,title:"REGISTRO DE USUARIOS",rows:s.data,dense:"",columns:s.columns,"row-key":"name","rows-per-page-options":[10,100,200,0]},{"top-right":(0,l.w5)((()=>[(0,l.Wm)(u,{outlined:"",dense:"",debounce:"300",modelValue:s.filter,"onUpdate:modelValue":t[8]||(t[8]=e=>s.filter=e),placeholder:"Buscar"},{append:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,l.w5)((e=>[(0,l.Wm)(_,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{key:"name",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,l.Wm)(w,{key:"email",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.email),1)])),_:2},1032,["props"]),(0,l.Wm)(w,{key:"unidad",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.unidad),1)])),_:2},1032,["props"]),(0,l.Wm)(w,{key:"permisos",props:e},{default:(0,l.w5)((()=>[(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.row.permisos,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},(0,T.zw)(e.nombre),1)))),128))])])),_:2},1032,["props"]),(0,l.Wm)(w,{key:"fechalimite",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.fechalimite),1)])),_:2},1032,["props"]),(0,l.Wm)(w,{key:"tipo",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{color:"USUARIO"==e.row.tipo?"teal":"accent"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.tipo),1)])),_:2},1032,["color"])])),_:2},1032,["props"]),(0,l.Wm)(w,{key:"opcion",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{dense:"",round:"",flat:"",color:"yellow",onClick:t=>n.editRow(e),icon:"edit"},null,8,["onClick"]),(0,l.Wm)(r,{dense:"",round:"",flat:"",color:"positive",onClick:t=>n.cambiopass(e),icon:"vpn_key"},null,8,["onClick"]),(0,l.Wm)(r,{dense:"",round:"",flat:"",color:"green-10",onClick:t=>n.mispermisos(e),icon:"post_add"},null,8,["onClick"]),(0,l.Wm)(r,{dense:"",round:"",flat:"",color:"red",onClick:t=>n.deleteRow(e),icon:"delete"},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["filter","rows","columns"]),(0,l.Wm)(f,{modelValue:s.dialog_mod,"onUpdate:modelValue":t[15]||(t[15]=e=>s.dialog_mod=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{style:{"max-width":"80%",width:"50%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"bg-warning text-white"},{default:(0,l.w5)((()=>[(0,l._)("div",Se,[(0,l.Wm)(d,{name:"edit"}),Re])])),_:1}),(0,l.Wm)(c,{class:"q-pt-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{onSubmit:n.onMod,class:"q-gutter-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{filled:"",modelValue:s.dato2.name,"onUpdate:modelValue":t[9]||(t[9]=e=>s.dato2.name=e),type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,l.Wm)(u,{filled:"",modelValue:s.dato2.email,"onUpdate:modelValue":t[10]||(t[10]=e=>s.dato2.email=e),type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,l.Wm)(u,{filled:"",modelValue:s.dato2.carnet,"onUpdate:modelValue":t[11]||(t[11]=e=>s.dato2.carnet=e),type:"text",label:"Carnet",hint:"Carnet de identidad","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,l.Wm)(m,{filled:"",modelValue:s.dato2.unit,"onUpdate:modelValue":t[12]||(t[12]=e=>s.dato2.unit=e),label:"Unidad",options:s.units,hint:"Selecionar unidad","option-label":"nombre"},null,8,["modelValue","options"]),(0,l.Wm)(u,{filled:"",label:"Fecha limite",type:"date",modelValue:s.dato2.fechalimite,"onUpdate:modelValue":t[13]||(t[13]=e=>s.dato2.fechalimite=e)},null,8,["modelValue"]),(0,l.Wm)(m,{filled:"",label:"Tipo usuario",modelValue:s.dato2.tipo,"onUpdate:modelValue":t[14]||(t[14]=e=>s.dato2.tipo=e),options:["USUARIO","SECRETARIA"]},null,8,["modelValue"]),(0,l._)("div",null,[(0,l.Wm)(r,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,l.wy)((0,l.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[k]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(f,{modelValue:s.dialog_del,"onUpdate:modelValue":t[16]||(t[16]=e=>s.dialog_del=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"row items-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{icon:"clear",color:"red","text-color":"white"}),$e])),_:1}),(0,l.Wm)(q,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{flat:"",label:"Eliminar",color:"deep-orange",onClick:n.onDel},null,8,["onClick"]),(0,l.wy)((0,l.Wm)(r,{flat:"",label:"Cancelar",color:"primary"},null,512),[[k]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(f,{modelValue:s.modelpermiso,"onUpdate:modelValue":t[17]||(t[17]=e=>s.modelpermiso=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{style:{width:"700px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"bg-info"},{default:(0,l.w5)((()=>[(0,l._)("div",Ue,[(0,l.Wm)(d,{name:"folder"}),Ee])])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,{onSubmit:(0,a.iM)(n.updatepermisos,["prevent"])},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.permisos2,((e,t)=>((0,l.wg)(),(0,l.j4)(p,{style:{width:"100%"},key:t,label:e.nombre,modelValue:e.estado,"onUpdate:modelValue":t=>e.estado=t},null,8,["label","modelValue","onUpdate:modelValue"])))),128)),(0,l.Wm)(r,{type:"submit",color:"info",icon:"send",label:"Actualizar"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const{addToDate:Ie}=ne.ZP,Ze={data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,filter:"",dato:{fechalimite:ne.ZP.formatDate(Ie(new Date,{days:7}),"YYYY-MM-DD")},model:"",dato2:{},options:[],props:[],unidades:[],permisos:[],permisos2:[],modelpermiso:!1,uni:{},columns:[{name:"name",align:"left",label:"NOMBRE ",field:"name",sortable:!0},{name:"email",align:"left",label:"E-MAIL",field:"email",sortable:!0},{name:"unidad",align:"left",label:"UNIDAD",field:"unidad",sortable:!0},{name:"permisos",align:"left",label:"PERMISOS",field:"permisos",sortable:!0},{name:"fechalimite",align:"left",label:"FECHA LÍMITE",field:"fechalimite",sortable:!0},{name:"tipo",align:"left",label:"TIPO",field:"tipo",sortable:!0},{name:"opcion",label:"OPCIÓN",field:"action",sortable:!1}],data:[],units:[],unit:[],units2:[]}},created(){this.misdatos(),this.$axios.get("https://back.gamo.cf/api/unit").then((e=>{this.units=[],e.data.forEach((e=>{e.label=e.nombre,this.units.push(e)})),this.units2=this.units})),this.$axios.get("https://back.gamo.cf/api/permiso").then((e=>{e.data.forEach((e=>{this.permisos.push({id:e.id,nombre:e.nombre,estado:!1}),this.permisos2.push({id:e.id,nombre:e.nombre,estado:!1})}))}))},methods:{updatepermisos(){this.$axios.put("https://back.gamo.cf/api/updatepermisos/"+this.dato2.id,{permisos:this.permisos2}).then((e=>{this.modelpermiso=!1,this.misdatos()})).catch((e=>{this.$q.notify({message:e.response.data.message,icon:"close",color:"red"})}))},mispermisos(e){let t;this.modelpermiso=!0,this.dato2=e.row,this.permisos2.forEach((e=>{t=this.dato2.permisos.find((t=>t.pivot.permiso_id==e.id)),e.estado=void 0!=t}))},misdatos(){this.$q.loading.show(),this.$axios.get("https://back.gamo.cf/api/user").then((e=>{this.data=[],e.data.forEach((e=>{e.unidad=e.unit.nombre,this.data.push(e)})),this.$q.loading.hide()}))},editRow(e){this.dato2=e.row,this.dato2.unid_id=e.row.unid,this.dialog_mod=!0},deleteRow(e){this.dato2=e.row,this.dialog_del=!0},onSubmit(){if(""==this.dato.unit||void 0==this.dato.unit)return this.$q.notify({message:"Debeser seleccionar unidad",color:"red",icon:"error"}),!1;this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/user",{name:this.dato.name,password:this.dato.password,email:this.dato.email,unit_id:this.dato.unit.id,celular:this.dato.celular,carnet:this.dato.carnet,fechalimite:this.dato.fechalimite,permisos:this.permisos}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={fechalimite:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD")},this.alert=!1,this.misdatos()})).catch((e=>{console.log(e.response.data),this.$q.notify({message:e.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){if(""==this.dato2.unit||void 0==this.dato2.unit)return this.$q.notify({message:"Debeser seleccionar unidad",color:"red",icon:"error"}),!1;this.$q.loading.show(),this.$axios.put("https://back.gamo.cf/api/user/"+this.dato2.id,{name:this.dato2.name,email:this.dato2.email,carnet:this.dato2.carnet,unit_id:this.dato2.unit.id,celular:this.dato2.celular,tipo:this.dato2.tipo,fechalimite:this.dato2.fechalimite}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$axios.delete("https://back.gamo.cf/api/user/"+this.dato2.id).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato.nombre=null,this.dato.inicio=0,this.dato.fin=0},cambiopass(e){this.$q.dialog({title:"CAMBIAR PASSWORD",message:"Ingresar nueva contraseña",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((t=>{this.$q.loading.show(),this.$axios.put("https://back.gamo.cf/api/pass/"+e.row.id,{password:t}).then((e=>{this.$q.loading.hide()}))})).onCancel((()=>{})).onDismiss((()=>{}))},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.units=this.units2.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.units=this.units2})}}};var Ae=o(5735),Fe=o(5096),Qe=o(9367);Ze.render=Oe;const Te=Ze;F()(Ze,"components",{QBtn:I.Z,QDialog:ge.Z,QCard:V.Z,QCardSection:fe.Z,QIcon:O.Z,QForm:U.Z,QInput:E.Z,QSelect:Z.Z,QCheckbox:Ae.Z,QTable:ce.Z,QTr:ue.Z,QTd:me.Z,QBadge:pe.Z,QAvatar:Fe.Z,QCardActions:Qe.Z}),F()(Ze,"directives",{ClosePopup:ve.Z});const ze={class:"row"},Me={class:"col-12"},Pe={class:"row"},Ne={class:"col-12 col-md-10 q-pa-xs"},Ye={class:"col-12 col-md-2 q-pa-xs flex flex-center"},je={class:"col-12 col-md-12"},He=(0,l.Uk)(" Datos de correspondencia "),Le={class:"row"},Be={class:"col-3 q-pa-xs"},Ke={class:"col-3 q-pa-xs"},Je={class:"col-3 q-pa-xs"},Ge={class:"col-3 q-pa-xs"},Xe={class:"col-3 q-pa-xs"},et={class:"col-3 q-pa-xs"},tt={class:"col-3 q-pa-xs"},ot={class:"col-3 q-pa-xs"},at={class:"col-12 q-pa-xs"},it={class:"col-12 col-md-12"},lt=(0,l.Uk)(" Datos de historial "),st={key:0,class:"text-caption"},nt={class:"text-caption"},rt={class:"row"},dt={class:"col-12"},ct={class:"row"},ut={class:"col-12"};function mt(e,t,o,i,s,n){const r=(0,l.up)("q-select"),d=(0,l.up)("q-btn"),c=(0,l.up)("q-form"),u=(0,l.up)("q-banner"),m=(0,l.up)("q-input"),p=(0,l.up)("q-td"),h=(0,l.up)("q-badge"),g=(0,l.up)("q-table"),f=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(f,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l._)("div",ze,[(0,l._)("div",Me,[(0,l.Wm)(c,{onSubmit:(0,a.iM)(n.buscar,["prevent"])},{default:(0,l.w5)((()=>[(0,l._)("div",Pe,[(0,l._)("div",Ne,[(0,l.Wm)(r,{"use-input":"",label:"Ingresar cite/codigo",modelValue:s.codigo,"onUpdate:modelValue":t[0]||(t[0]=e=>s.codigo=e),options:s.mails,outlined:"",onFilter:n.filterFn},null,8,["modelValue","options","onFilter"])]),(0,l._)("div",Ye,[(0,l.Wm)(d,{label:"Buscar",color:"primary",icon:"send",type:"submit"})])])])),_:1},8,["onSubmit"])]),(0,l._)("div",je,[(0,l.Wm)(u,{dense:"",class:"bg-primary text-white"},{default:(0,l.w5)((()=>[He])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l._)("div",Le,[(0,l._)("div",Be,[(0,l.Wm)(m,{dense:"",label:"tipo",modelValue:s.email.tipo,"onUpdate:modelValue":t[1]||(t[1]=e=>s.email.tipo=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",Ke,[(0,l.Wm)(m,{dense:"",label:"ref",modelValue:s.email.ref,"onUpdate:modelValue":t[2]||(t[2]=e=>s.email.ref=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",Je,[(0,l.Wm)(m,{dense:"",label:"remitente",modelValue:s.email.remitente,"onUpdate:modelValue":t[3]||(t[3]=e=>s.email.remitente=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",Ge,[(0,l.Wm)(m,{dense:"",label:"destinatario",modelValue:s.email.destinatario,"onUpdate:modelValue":t[4]||(t[4]=e=>s.email.destinatario=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",Xe,[(0,l.Wm)(m,{dense:"",label:"cargo",modelValue:s.email.cargo,"onUpdate:modelValue":t[5]||(t[5]=e=>s.email.cargo=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",et,[(0,l.Wm)(m,{dense:"",label:"institucion",modelValue:s.email.institucion,"onUpdate:modelValue":t[6]||(t[6]=e=>s.email.institucion=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",tt,[(0,l.Wm)(m,{dense:"",label:"fecha",modelValue:s.email.fecha,"onUpdate:modelValue":t[7]||(t[7]=e=>s.email.fecha=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",ot,[(0,l.Wm)(m,{dense:"",label:"Fojas",modelValue:s.email.folio,"onUpdate:modelValue":t[8]||(t[8]=e=>s.email.folio=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",at,[""!=s.email.archivo&&void 0!=s.email.archivo?((0,l.wg)(),(0,l.j4)(d,{key:0,type:"a",href:s.url+"/../imagenes/"+s.email.archivo,target:"__blank",class:"full-width",color:"primary",icon:"file_download",label:s.email.archivo,outlined:""},null,8,["href","label"])):(0,l.kq)("",!0)])])])),_:1})]),(0,l._)("div",it,[(0,l.Wm)(u,{dense:"",class:"bg-amber text-white"},{default:(0,l.w5)((()=>[lt])),_:1}),(0,l.Wm)(g,{dense:"",columns:s.columns,rows:s.email.logs},{"body-cell-de":(0,l.w5)((e=>[(0,l.Wm)(p,{props:e},{default:(0,l.w5)((()=>[void 0!=e.row.user?((0,l.wg)(),(0,l.iD)("div",st,(0,T.zw)(e.row.user.name),1)):(0,l.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-a":(0,l.w5)((e=>[(0,l.Wm)(p,{props:e},{default:(0,l.w5)((()=>[(0,l._)("div",nt,(0,T.zw)(e.row.user2.name),1)])),_:2},1032,["props"])])),"body-cell-unidad":(0,l.w5)((e=>[(0,l.Wm)(p,{props:e},{default:(0,l.w5)((()=>[(0,l._)("div",rt,[(0,l._)("div",dt,[(0,l.Wm)(m,{dense:"",autogrow:"",disable:"",outlined:"",type:"textarea","model-value":e.row.user2.unit.nombre},null,8,["model-value"])])])])),_:2},1032,["props"])])),"body-cell-accion":(0,l.w5)((e=>[(0,l.Wm)(p,{props:e},{default:(0,l.w5)((()=>[(0,l._)("div",ct,[(0,l._)("div",ut,[(0,l.Wm)(m,{dense:"",autogrow:"",disable:"",outlined:"",type:"textarea","model-value":e.row.accion+" "+e.row.archivado},null,8,["model-value"])])])])),_:2},1032,["props"])])),"body-cell-estado":(0,l.w5)((e=>[(0,l.Wm)(p,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{color:"REMITIDO"==e.row.estado||"ARCHIVADO"==e.row.estado?"positive":"negative"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.estado),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])])])),_:1})}const pt={data(){return{columns:[{label:"de",field:"de",name:"de",align:"left"},{label:"a",field:"a",name:"a",align:"left"},{label:"unidad",field:"unidad",name:"unidad",align:"left"},{label:"accion",field:"accion",name:"accion"},{label:"estado",field:"estado",name:"estado"}],url:"https://back.gamo.cf/api",codigo:{},email:{},mails:[],mails2:[]}},created(){this.$q.loading.show(),this.$axios.get("https://back.gamo.cf/api/todos").then((e=>{this.mails=[{label:""}],e.data.forEach((e=>{e.label=e.codigo+" "+e.citecontrol+" "+e.remitente+" "+e.ref,this.mails.push(e)})),this.mails2=this.mails,this.codigo=this.mails[0],this.$q.loading.hide()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))},methods:{buscar(){this.$q.loading.show(),this.email={},this.$axios.post("https://back.gamo.cf/api/buscar",{codigo:this.codigo.codigo}).then((e=>{console.log(e.data),e.data.length>0&&(this.email=e.data[0]),this.$q.loading.hide()}))},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.mails=this.mails2.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.mails=this.mails2})}}};var ht=o(5607);pt.render=mt,pt.__scopeId="data-v-3cd10ec2";const gt=pt;F()(pt,"components",{QPage:W.Z,QForm:U.Z,QSelect:Z.Z,QBtn:I.Z,QBanner:ht.Z,QInput:E.Z,QTable:ce.Z,QTd:me.Z,QBadge:pe.Z});const ft={class:"row"},wt={class:"col-12"},bt={key:0,class:"text-h6"},_t={key:1,class:"text-h6"},vt={class:"row",style:{border:"1px solid rgba(128,128,128,0.50)"}},xt={class:"col-6 flex flex-center"},qt={class:"col-6 flex flex-center"},kt={class:"col-sm-2 col-12 q-pa-xs"},yt={class:"col-sm-2 col-12 q-pa-xs"},Wt={class:"col-sm-4 col-12 q-pa-xs"},Vt={class:"col-sm-4 col-12 q-pa-xs"},Ct={id:"browsers"},Dt={class:"col-sm-2 col-12 q-pa-xs"},St={class:"col-sm-2 col-12 q-pa-xs"},Rt={class:"col-sm-8 col-12 q-pa-xs"},$t={class:"col-sm-2 col-12 q-pa-xs"},Ut={class:"col-sm-2 col-12 q-pa-xs"},Et={class:"col-sm-2 col-12 q-pa-xs flex flex-center"},Ot={class:"col-12"},It={style:{"font-size":"0.8em",padding:"0px",margin:"0px",border:"0px","list-style":"none"}},Zt={key:1,style:{color:"darkred","font-weight":"bold"}},At={key:2,style:{color:"darkgreen","font-weight":"bold"}},Ft=(0,l.Uk)("Modificar Correspodencia"),Qt=(0,l.Uk)("Remitir correspodencia"),Tt=(0,l.Uk)("Subir Archivo"),zt=(0,l.Uk)("Archivar"),Mt={class:"text-h6"},Pt=(0,l.Uk)(" Sin resultados "),Nt={class:"text-h6"};function Yt(e,t,o,i,s,n){const r=(0,l.up)("q-btn"),d=(0,l.up)("q-card-section"),c=(0,l.up)("q-radio"),u=(0,l.up)("q-input"),m=(0,l.up)("q-form"),p=(0,l.up)("q-card-actions"),h=(0,l.up)("q-card"),g=(0,l.up)("q-dialog"),f=(0,l.up)("q-icon"),w=(0,l.up)("q-td"),b=(0,l.up)("q-badge"),_=(0,l.up)("q-item-label"),v=(0,l.up)("q-item-section"),x=(0,l.up)("q-item"),q=(0,l.up)("q-list"),k=(0,l.up)("q-btn-dropdown"),y=(0,l.up)("q-table"),W=(0,l.up)("q-select"),V=(0,l.up)("q-uploader"),C=(0,l.up)("q-page"),D=(0,l.Q2)("close-popup"),S=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(C,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l._)("div",ft,[(0,l._)("div",wt,[(0,l.Wm)(r,{label:"Crear",icon:"mail",color:"primary",onClick:n.fromcrear},null,8,["onClick"]),(0,l.Wm)(r,{label:"Actualizar",icon:"refresh",color:"teal",onClick:n.misdatos},null,8,["onClick"]),(0,l.Wm)(g,{"full-width":"",modelValue:s.crear,"onUpdate:modelValue":t[11]||(t[11]=e=>s.crear=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[void 0==s.dato.id?((0,l.wg)(),(0,l.iD)("div",bt,"Crear Hoja de ruta")):((0,l.wg)(),(0,l.iD)("div",_t,"Modificar Hoja de ruta"))])),_:1}),(0,l.Wm)(d,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{onSubmit:(0,a.iM)(n.guardar,["prevent"])},{default:(0,l.w5)((()=>[(0,l._)("div",vt,[(0,l._)("div",xt,[(0,l.Wm)(c,{dense:"",required:"",modelValue:s.dato.tipo,"onUpdate:modelValue":t[0]||(t[0]=e=>s.dato.tipo=e),val:"EXTERNO",label:"EXTERNO"},null,8,["modelValue"])]),(0,l._)("div",qt,[(0,l.Wm)(c,{dense:"",required:"",modelValue:s.dato.tipo,"onUpdate:modelValue":t[1]||(t[1]=e=>s.dato.tipo=e),val:"INTERNO",label:"INTERNO"},null,8,["modelValue"])]),(0,l._)("div",kt,[(0,l.Wm)(u,{required:"",dense:"",label:"Cite/Codigo/Tramite",autofocus:"",modelValue:s.dato.citecontrol,"onUpdate:modelValue":t[2]||(t[2]=e=>s.dato.citecontrol=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",yt,[(0,l.Wm)(u,{required:"",dense:"",label:"Cite entrante",autofocus:"",modelValue:s.dato.cite,"onUpdate:modelValue":t[3]||(t[3]=e=>s.dato.cite=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",Wt,[(0,l.Wm)(u,{style:{"text-transform":"uppercase"},outlined:"",dense:"",label:"Destinatario",modelValue:s.destinatario,"onUpdate:modelValue":t[4]||(t[4]=e=>s.destinatario=e)},null,8,["modelValue"])]),(0,l._)("div",Vt,[(0,l.Wm)(u,{onKeyup:n.cambio,style:{"text-transform":"uppercase"},outlined:"",dense:"",label:"remitente",list:"browsers",name:"myBrowser",modelValue:s.remitente,"onUpdate:modelValue":t[5]||(t[5]=e=>s.remitente=e)},null,8,["onKeyup","modelValue"]),(0,l._)("datalist",Ct,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.remitentes,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id},(0,T.zw)(e.remitente),1)))),128))])]),(0,l._)("div",Dt,[(0,l.Wm)(u,{style:{"text-transform":"uppercase"},dense:"",label:"Cargo",modelValue:s.cargo,"onUpdate:modelValue":t[6]||(t[6]=e=>s.cargo=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",St,[(0,l.Wm)(u,{style:{"text-transform":"uppercase"},dense:"",label:"Institucion",modelValue:s.institucion,"onUpdate:modelValue":t[7]||(t[7]=e=>s.institucion=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",Rt,[(0,l.Wm)(u,{style:{"text-transform":"uppercase"},dense:"",label:"Referencia",modelValue:s.dato.ref,"onUpdate:modelValue":t[8]||(t[8]=e=>s.dato.ref=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",$t,[(0,l.Wm)(u,{dense:"",label:"Fecha de correspondencia",modelValue:s.dato.fecha,"onUpdate:modelValue":t[9]||(t[9]=e=>s.dato.fecha=e),type:"date",outlined:""},null,8,["modelValue"])]),(0,l._)("div",Ut,[(0,l.Wm)(u,{dense:"",label:"Fojas",modelValue:s.dato.folio,"onUpdate:modelValue":t[10]||(t[10]=e=>s.dato.folio=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",Et,[void 0==s.dato.id||""==s.dato.id?((0,l.wg)(),(0,l.j4)(r,{key:0,type:"submit",color:"primary",icon:"add_circle",label:"Registrar"})):((0,l.wg)(),(0,l.j4)(r,{key:1,type:"submit",color:"amber",icon:"edit",label:"Modificar"}))])])])),_:1},8,["onSubmit"])])),_:1}),(0,l.Wm)(p,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(r,{flat:"",label:"Cerrar",icon:"delete",color:"primary"},null,512),[[D]])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,l._)("div",Ot,[(0,l.Wm)(y,{dense:"",title:"Correspondencia ",rows:s.mails,columns:s.columns,filter:s.filter,"rows-per-page-options":[10,100,150,200,0],"row-key":"name"},{"top-right":(0,l.w5)((()=>[(0,l.Wm)(u,{outlined:"",dense:"",debounce:"300",modelValue:s.filter,"onUpdate:modelValue":t[12]||(t[12]=e=>s.filter=e),placeholder:"Buscar"},{append:(0,l.w5)((()=>[(0,l.Wm)(f,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-ref":(0,l.w5)((e=>[(0,l.Wm)(w,{key:"ref",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.row.ref.substring(0,10)),1)])),_:2},1032,["props"])])),"body-cell-logs":(0,l.w5)((e=>[(0,l.Wm)(w,{key:"logs",props:e},{default:(0,l.w5)((()=>[(0,l._)("ul",It,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.row.logs,(e=>((0,l.wg)(),(0,l.iD)("li",{key:e.id},["EN PROCESO"==e.estado?((0,l.wg)(),(0,l.j4)(r,{key:0,onClick:t=>n.impresion(e),size:"xs",icon:"print",color:"info",flat:"",round:""},null,8,["onClick"])):(0,l.kq)("",!0),(0,l.Uk)(" "+(0,T.zw)(e.unit.nombre)+" ",1),(0,l.Wm)(b,{color:"REMITIDO"==e.estado||"ARCHIVADO"==e.estado?"positive":"negative",label:e.estado},null,8,["color","label"])])))),128))])])),_:2},1032,["props"])])),"body-cell-fecha":(0,l.w5)((e=>[(0,l.Wm)(w,{props:e},null,8,["props"])])),"body-cell-archivo":(0,l.w5)((e=>[(0,l.Wm)(w,{key:"archivo",props:e},{default:(0,l.w5)((()=>[""!=e.row.archivo?((0,l.wg)(),(0,l.j4)(r,{key:0,label:"Descargar",color:"primary",size:"xs",type:"a",href:s.url+"/../imagenes/"+e.row.archivo,target:"__blank"},null,8,["href"])):(0,l.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-opciones":(0,l.w5)((e=>[(0,l.Wm)(w,{"auto-width":"",key:"opciones",props:e},{default:(0,l.w5)((()=>["EN PROCESO"==e.row.estado?((0,l.wg)(),(0,l.j4)(r,{key:0,dense:"",onClick:t=>n.aceptar(e.row),color:"info",label:"Aceptar",icon:"code",size:"xs"},null,8,["onClick"])):(0,l.kq)("",!0),"ARCHIVADO"==e.row.estado?((0,l.wg)(),(0,l.iD)("small",Zt,"Archivado")):(0,l.kq)("",!0),"REMITIDO"==e.row.estado?((0,l.wg)(),(0,l.iD)("small",At,"Remitido")):(0,l.kq)("",!0),"ACEPTADO"==e.row.estado?((0,l.wg)(),(0,l.j4)(k,{key:3,color:"primary",label:"Opciones"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(x,{clickable:"",onClick:t=>n.modificar(e.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[Ft])),_:1})])),_:1})])),_:2},1032,["onClick"]),[[D]]),(0,l.wy)((0,l.Wm)(x,{clickable:"",onClick:t=>{s.diaglosasiganacion=!0,s.mail=e.row,s.dest=[]}},{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[Qt])),_:1})])),_:1})])),_:2},1032,["onClick"]),[[D]]),(0,l.wy)((0,l.Wm)(x,{clickable:"",onClick:t=>n.archivo(e.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[Tt])),_:1})])),_:1})])),_:2},1032,["onClick"]),[[D]]),(0,l.wy)((0,l.Wm)(x,{clickable:"",onClick:t=>n.archivar(e.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[zt])),_:1})])),_:1})])),_:2},1032,["onClick"]),[[D]])])),_:2},1024)])),_:2},1024)):(0,l.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,l.Wm)(g,{"full-width":"","full-height":"",modelValue:s.diaglosasiganacion,"onUpdate:modelValue":t[15]||(t[15]=e=>s.diaglosasiganacion=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",Mt,[(0,l.Wm)(f,{name:"code"}),(0,l.Uk)(" "+(0,T.zw)(s.mail.ref)+" Remitir",1)])])),_:1}),(0,l.Wm)(d,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{onSubmit:(0,a.iM)(n.registrarlog,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{type:"textarea",outlined:"",label:"Instruccion / Observacion",modelValue:s.miaccion,"onUpdate:modelValue":t[13]||(t[13]=e=>s.miaccion=e),required:""},null,8,["modelValue"]),(0,l.Wm)(W,{dense:"","use-input":"",options:s.usuarios,label:"Seleccionar personal",modelValue:s.usuario,"onUpdate:modelValue":t[14]||(t[14]=e=>s.usuario=e),onFilter:n.filterFn,outlined:""},{"no-option":(0,l.w5)((()=>[(0,l.Wm)(x,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"text-grey"},{default:(0,l.w5)((()=>[Pt])),_:1})])),_:1})])),_:1},8,["options","modelValue","onFilter"]),(0,l.Wm)(r,{color:"positive",label:"Agregar Destinatario",icon:"add_circle",onClick:n.tabdest},null,8,["onClick"]),(0,l.Wm)(q,{dense:"",bordered:"",padding:"",class:"rounded-borders"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.dest,((e,t)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(x,{clickable:"",key:t},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"q-pa-none text-subtitle2"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(t+1)+" "+(0,T.zw)(e.name),1)])),_:2},1024),(0,l.Wm)(v,{class:"q-pa-none text-subtitle2"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.unit.nombre),1)])),_:2},1024),(0,l.Wm)(v,{class:"q-pa-none text-subtitle2"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{onClick:e=>n.quitardestinatario(t),icon:"delete",color:"negative",flat:""},null,8,["onClick"])])),_:2},1024)])),_:2},1536)),[[S]]))),128))])),_:1}),(0,l.Wm)(r,{label:"Remitir",color:"teal",icon:"send",class:"full-width",type:"submit"})])),_:1},8,["onSubmit"])])),_:1}),(0,l.Wm)(d,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(r,{flat:"",label:"Cancelar",color:"primary",icon:"delete"},null,512),[[D]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(g,{modelValue:s.dialogarchivo,"onUpdate:modelValue":t[16]||(t[16]=e=>s.dialogarchivo=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{style:{width:"300px","min-width":"40vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",Nt,[(0,l.Wm)(f,{name:"list"}),(0,l.Uk)(" "+(0,T.zw)(s.mail.ref)+" Subir archivo",1)])])),_:1}),(0,l.Wm)(d,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{class:"full-width",label:"Subir archivo",factory:n.uploadFile,"max-files":"1"},null,8,["factory"])])),_:1}),(0,l.Wm)(d,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(r,{flat:"",label:"Cancelar",color:"primary",icon:"delete"},null,512),[[D]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])])),_:1})}var jt=o(9587),Ht=o(5416);o(7345);const Lt={data(){return{destinatario:"",crear:!1,miaccion:"",filter:"",usuario:"",diaglosasiganacion:!1,dialogarchivo:!1,url:"https://back.gamo.cf/api",dato:{tipo:"",fecha:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),folio:1},usuarios:[],usuarios2:[],mails:[],mail:{},remitentes:[],remitentes2:[],remitente:"",cargo:"",institucion:"",dest:[],columns:[{name:"opciones",field:"opciones",label:"opciones",align:"right"},{name:"codigo",field:"codigo",label:"codigo",align:"left"},{name:"citecontrol",field:"citecontrol",label:"CITE",align:"left"},{name:"logs",field:"logs",label:"HISTORIAL",align:"left"},{name:"remitente",field:"remitente",label:"Remitente",align:"left"},{name:"ref",field:"ref",label:"Referencia",align:"left"},{name:"dias",field:"dias",label:"dias",align:"right"}]}},mounted(){},created(){this.misdatos(),this.misremitentes(),this.$axios.post("https://back.gamo.cf/api/misremetentes").then((e=>{e.data.forEach((e=>{e.label=e.unit.nombre+"-"+e.name,this.usuarios.push(e)})),this.usuarios2=this.usuarios}))},methods:{fromcrear(){this.crear=!0,this.dato={tipo:"",fecha:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),folio:1},this.remitente="",this.cargo="",this.institucion=""},modificar(e){console.log(e),this.crear=!0,this.dato=e,this.remitente=this.dato.remitente,this.destinatario=this.dato.destinatario,this.cargo=this.dato.cargo,this.institucion=this.dato.institucion},quitardestinatario(e){this.dest.splice(e,1)},tabdest(){let e=!1;this.dest.forEach((t=>{t.id==this.usuario.id&&(e=!0)})),e||""==this.usuario||this.dest.push(this.usuario)},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.usuarios=this.usuarios2.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.usuarios=this.usuarios2})},uploadFile(e){this.file_path=e[0];const t=new FormData;t.append("imagen",this.file_path),t.append("mail_id",this.mail.mail_id),this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/upload",t).then((e=>{this.misdatos(),this.$q.loading.hide(),this.dialogarchivo=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Imagen subido correctamente!"})}))},registrarlog(){if(0==this.dest.length)return this.$q.notify({message:"Debe seleccionar al menos 1 Dest",color:"red",icon:"error"}),!1;this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/log",{log_id:this.mail.id,list_user:this.dest,accion:this.miaccion}).then((e=>{this.misdatos(),this.diaglosasiganacion=!1,this.$q.notify({message:"Remitido correctamente!!",color:"green",icon:"done"}),this.miaccion="",this.dest=[]})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"red",icon:"error"}),this.$q.loading.hide()}))},misremitentes(){this.$axios.get("https://back.gamo.cf/api/mail/create").then((e=>{this.remitentes=e.data}))},cambio(){this.cargo="",this.institucion="",this.remitentes.find((e=>{if(e.remitente===this.remitente)return this.cargo=e.cargo,this.institucion=e.institucion,!1}))},aceptar(e){this.$q.dialog({title:"Seguro de Aceptar?",message:"Seguro de aceptar",cancel:!0}).onOk((()=>{this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/aceptar",{mail_id:e.id}).then((e=>{this.misdatos(),this.$q.notify({message:"Aceptado",caption:"Registro aceptado",color:"green",icon:"done"})}))}))},mostrar(e){this.$q.dialog({title:"Referencia",message:e})},impresion(e){this.$q.loading.show(),this.$axios.get("https://back.gamo.cf/api/mail/"+e.mail_id).then((t=>{let o=t.data;this.$q.loading.hide();var a=new jt.kH;a.setDrawColor(122),a.roundedRect(5,10,200,282,2,2,"S"),a.roundedRect(8,22,194,30,2,2,"S"),a.roundedRect(58,22,20,30,2,2,"S"),a.roundedRect(183,11,20,8,1,1,"S"),a.setFillColor(158,158,158),a.line(8,28,58,28),a.line(8,36,58,36),a.line(8,46,58,46),a.line(78,26,202,26),a.line(78,31,202,31),a.line(78,36,202,36),a.line(78,41,202,41),a.line(78,46,202,46),a.roundedRect(70,5,70,10,2,2,"F"),a.setFontSize(35),a.setFont("times","bold"),a.setTextColor(255,255,255),a.text("GAMO",85,14),a.setTextColor(0,0,0),a.setFontSize(37),a.text("HR",58,38),a.setFontSize(7),a.text("HOJA DE RUTA",59,42),a.setTextColor(158,158,158),a.setFontSize(10),a.text("HOJA 1",187,14),a.setFontSize(7),a.text("HOJA DE RUTA",184,17),a.setTextColor(0,0,0),a.setFontSize(11),a.text("REGISTRO DE CORRESPONDENCIA - HOJA DE RUTA",58,20),a.setFontSize(15),a.text("Nº",10,27),a.setFont(void 0,"normal"),a.text(o.codigo.toString(),40,27,"center"),a.setFont("times","bold"),a.setFontSize(10),a.text(["FECHA DE","RECEPCION:"],10,31),a.setFont(void 0,"normal"),a.text(e.fecha.toString(),45,33,"center"),a.setFont("times","bold"),a.text(["HORA DE","RECEPCION:"],10,40),a.setFont(void 0,"normal"),a.text(e.hora.toString(),45,42,"center"),a.setFont("times","bold"),a.text("CITE:",10,49),a.setFont("times","normal"),a.setFontSize(14),a.text(o.citecontrol.toString(),45,50,"center"),a.setFontSize(10),a.setFont("times","bold"),a.text("REMITENTE:",80,25),a.setFont("times","normal"),a.text(o.remitente,152,25,"center"),a.setFont("times","bold"),a.text("ENTIDAD:",80,30),a.setFont("times","normal"),a.text(o.institucion,152,30,"center"),a.setFont("times","bold"),a.text("CITE:",80,35),a.setFont("times","normal"),a.setFontSize(8),a.text(o.cite,120,35,"center"),a.setFontSize(10),a.setFont("times","bold"),a.text("HOJAS:",160,35),a.setFont("times","normal"),a.text(o.folio,188,35,"center"),a.setFont("times","bold"),a.text("REF:",80,40),a.setFont("times","normal"),a.text([o.ref.substring(0,50),o.ref.substring(50,100)],148,40,"center"),a.setFont("times","bold"),a.text("DESTINATARIO 1:",80,50),a.setFont(void 0,"normal"),a.text(e.user2.name,152,50,"center"),a.setFont("times","bold");let i=2;for(let l=0;l<3;l++)a.roundedRect(8,52+80*l,194,80,2,2,"S"),a.setFontSize(6),a.text(["ATENDRE TRAMITE DE","A CUERDO","A PROCEDIMIENTO","VIGENTE Y NORMATIVA"],21,54+80*l,{align:"center"}),a.setFontSize(10),a.text("RESPONDER",21,69+80*l,{align:"center"}),a.text("INFORME",21,79+80*l,{align:"center"}),a.text("TOME ACCION",21,89+80*l,{align:"center"}),a.text("NOTIFICAR",21,99+80*l,{align:"center"}),a.setFontSize(6),a.text(["PROCESAR CONFORME","EL PROVEIDO QUE","ANTECEDE"],21,106+80*l,{align:"center"}),a.setFontSize(9),a.text(["PROYECTAR","NOTA"],21,117+80*l,{align:"center"}),a.text("ARCHIVAR",21,129+80*l,{align:"center"}),a.roundedRect(35,52+80*l,5,10,1,1,"S"),a.line(8,62+80*l,40,62+80*l),a.roundedRect(35,62+80*l,5,10,1,1,"S"),a.line(8,72+80*l,40,72+80*l),a.roundedRect(35,72+80*l,5,10,1,1,"S"),a.line(8,82+80*l,40,82+80*l),a.roundedRect(35,82+80*l,5,10,1,1,"S"),a.line(8,92+80*l,40,92+80*l),a.roundedRect(35,92+80*l,5,10,1,1,"S"),a.line(8,102+80*l,40,102+80*l),a.roundedRect(35,102+80*l,5,10,1,1,"S"),a.line(8,112+80*l,40,112+80*l),a.roundedRect(35,112+80*l,5,10,1,1,"S"),a.line(8,122+80*l,40,122+80*l),a.roundedRect(35,122+80*l,5,10,1,1,"S"),a.text("INSTRUCCIONES:",85,55+80*l,{align:"center"}),a.text("_________________",85,55+80*l,{align:"center"}),0==l&&(a.setFont(void 0,"normal"),a.text(e.accion.toString().substring(0,45),41,61+80*l),a.text(e.accion.toString().substring(45,90),41,66+80*l),a.text(e.accion.toString().substring(90,135),41,71+80*l),a.text(e.accion.toString().substring(135,180),41,76+80*l),a.text(e.accion.toString().substring(180,225),41,81+80*l),a.text(e.accion.toString().substring(225,270),41,86+80*l),a.text(e.accion.toString().substring(270,315),41,91+80*l),a.setFont(void 0,"bold")),a.text(".................................................................................................................",40,62+80*l),a.text(".................................................................................................................",40,67+80*l),a.text(".................................................................................................................",40,72+80*l),a.text(".................................................................................................................",40,77+80*l),a.text(".................................................................................................................",40,82+80*l),a.text(".................................................................................................................",40,87+80*l),a.text(".................................................................................................................",40,92+80*l),a.text(".................................................................................................................",40,97+80*l),a.text(".................................................................................................................",40,102+80*l),a.text(".................................................................................................................",40,107+80*l),a.text(".................................................................................................................",40,112+80*l),a.text(".................................................................................................................",40,117+80*l),a.text(".................................................................................................................",40,122+80*l),a.text(".................................................................................................................",40,127+80*l),a.text("FIRMAR",115,130+80*l),a.roundedRect(130,52+80*l,72,80,1,1,"S"),a.line(130,59+80*l,202,59+80*l),a.line(130,126+80*l,202,126+80*l),a.text("DESTINATARIO "+i+":",132,57+80*l),a.text("SELLO DE RECEPCION "+i+":",150,125+80*l),a.text("FECHA:",132,130+80*l),a.text("HORA:",172,130+80*l),i++;a.addPage(),a.setFont("times","bold"),a.setDrawColor(122),a.roundedRect(5,10,200,282,2,2,"S"),a.roundedRect(183,11,20,8,1,1,"S"),a.setTextColor(158,158,158),a.setFontSize(10),a.text("HOJA 2",187,14),a.setFontSize(7),a.text("HOJA DE RUTA",184,17),a.setTextColor(0,0,0),i=5;for(let e=0;e<4;e++)a.roundedRect(8,20+68*e,194,68,2,2,"S"),a.setFontSize(5),a.text(["ATENDRE TRAMITE DE","A CUERDO","A PROCEDIMIENTO","VIGENTE Y NORMATIVA"],21,22+68*e,{align:"center"}),a.setFontSize(9),a.text("RESPONDER",21,34+68*e,{align:"center"}),a.text("INFORME",21,43+68*e,{align:"center"}),a.text("TOME ACCION",21,51+68*e,{align:"center"}),a.text("NOTIFICAR",21,60+68*e,{align:"center"}),a.setFontSize(6),a.text(["PROCESAR CONFORME","EL PROVEIDO QUE","ANTECEDE"],21,65+68*e,{align:"center"}),a.setFontSize(9),a.text(["PROYECTAR","NOTA"],21,75+68*e,{align:"center"}),a.text("ARCHIVAR",21,85+68*e,{align:"center"}),a.roundedRect(35,20+68*e,5,8.5,1,1,"S"),a.roundedRect(35,28.5+68*e,5,8.5,1,1,"S"),a.roundedRect(35,37+68*e,5,8.5,1,1,"S"),a.roundedRect(35,45.5+68*e,5,8.5,1,1,"S"),a.roundedRect(35,54+68*e,5,8.5,1,1,"S"),a.roundedRect(35,62.5+68*e,5,8.5,1,1,"S"),a.roundedRect(35,71+68*e,5,8.5,1,1,"S"),a.roundedRect(35,79.5+68*e,5,8.5,1,1,"S"),a.line(8,28.5+68*e,40,28.5+68*e),a.line(8,37+68*e,40,37+68*e),a.line(8,45.5+68*e,40,45.5+68*e),a.line(8,54+68*e,40,54+68*e),a.line(8,62.5+68*e,40,62.5+68*e),a.line(8,71+68*e,40,71+68*e),a.line(8,79.5+68*e,40,79.5+68*e),a.text("INSTRUCCIONES:",85,23+68*e,{align:"center"}),a.text("_________________",85,23+68*e,{align:"center"}),a.text(".................................................................................................................",40,28.5+68*e),a.text(".................................................................................................................",40,33+68*e),a.text(".................................................................................................................",40,37+68*e),a.text(".................................................................................................................",40,41.5+68*e),a.text(".................................................................................................................",40,45.5+68*e),a.text(".................................................................................................................",40,50+68*e),a.text(".................................................................................................................",40,54+68*e),a.text(".................................................................................................................",40,58.5+68*e),a.text(".................................................................................................................",40,62.5+68*e),a.text(".................................................................................................................",40,67+68*e),a.text(".................................................................................................................",40,71+68*e),a.text(".................................................................................................................",40,75.5+68*e),a.text(".................................................................................................................",40,79.5+68*e),a.text(".................................................................................................................",40,84+68*e),a.text("FIRMAR",115,87+68*e),a.roundedRect(130,20+68*e,72,68,1,1,"S"),a.line(130,24+68*e,202,24+68*e),a.line(130,84+68*e,202,84+68*e),a.text("DESTINATARIO "+i+":",132,23+68*e),a.text("SELLO DE RECEPCION "+i+":",150,83+68*e),a.text("FECHA:",132,87+68*e),a.text("HORA:",172,87+68*e),i++;window.open(a.output("bloburl"),"_blank")}))},impresion2(e){this.$axios.post("https://back.gamo.cf/api/impblanco/"+e).then((e=>{console.log(e.data);let t=window.open("","Imprimir","width=1000,height=1000");t.document.write(e.data),t.document.close(),t.focus(),setTimeout((function(){t.print(),t.close()}),700)}))},archivar(e){this.$q.dialog({title:"Seguro de archivar?",message:"Motivo de archivar",prompt:{model:"",type:"text"},cancel:!0}).onOk((t=>{this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/anulado",{id:e.id,archivado:t}).then((e=>{this.misdatos(),this.$q.notify({message:"Archivado",caption:"Registro archivado",color:"green",icon:"done"})}))}))},archivo(e){console.log(e),this.mail=e,this.dialogarchivo=!0},dividir(e){this.$q.dialog({title:"En cuantos deseas dividir?",message:"Cantidad de divicion",prompt:{model:"",type:"number"},cancel:!0}).onOk((t=>{this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/dividir",{cantidad:t,mail_id:e.id}).then((e=>{this.misdatos(),this.$q.notify({message:"Dividido",caption:"Registro dividido",color:"green",icon:"done"})}))}))},editar(e){this.dato=e.row,this.remitente=e.row.remitente,this.cargo=e.row.cargo,this.institucion=e.row.institucion},misdatos(){this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/micorre").then((e=>{this.mails=[],(0,Ht.z2)("es_ES",((e,t,o)=>[["justo ahora","ahora mismo"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","in %s horas"],["hace 1 dia","en 1 dia"],["hace %s dias","en %s dias"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 año","en 1 año"],["hace %s años","en %s años"]][t])),e.data.forEach((e=>{console.log(e);const t=(0,Ht.WU)(e.mail.fecha+" "+e.mail.hora,"es_ES");this.mails.push({id:e.id,mail_id:e.mail_id,hora:e.hora,citecontrol:e.mail.citecontrol,cite:e.mail.cite,codigo:e.mail.codigo,tipo:e.mail.tipo,tipo2:e.mail.tipo2,ref:e.mail.ref,remitente:e.mail.remitente,destinatario:e.mail.destinatario,cargo:e.mail.cargo,institucion:e.mail.institucion,fecha:e.mail.fecha,fechacarta:e.mail.fechacarta,estado:e.estado,folio:e.mail.folio,archivo:e.mail.archivo,codinterno:e.mail.codinterno,codexterno:e.mail.codexterno,logs:e.mail.logs,dias:t})})),this.$q.loading.hide()}))},anular(e){this.$q.dialog({title:"Seguro de anular?",message:"Motivo de anular",prompt:{model:"",type:"text"},cancel:!0}).onOk((t=>{this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/anulado",{mail_id:e.id,accion:t,estado:"ANULADO"}).then((e=>{this.misdatos(),this.$q.notify({message:"Anulado",caption:"Registro anulado",color:"green",icon:"done"})}))}))},guardar(){if(void 0==this.dato.tipo||null==this.dato.tipo||""==this.dato.tipo)return this.$q.notify({message:"Porfavor colocar interno o externo",color:"red",icon:"error"}),!1;this.$q.dialog({title:"Seguro de registrar?",cancel:!0,persistent:!0}).onOk((()=>{this.dato.remitente=this.remitente,this.dato.destinatario=this.destinatario,this.dato.cargo=this.cargo,this.dato.institucion=this.institucion,void 0==this.dato.id||""==this.dato.id?(this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/mail",this.dato).then((e=>{console.log(e.data),this.dato={tipo:"EXTERNO",fecha:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),folio:1},this.remitente="",this.destinatario="",this.cargo="",this.institucion="",this.misdatos(),this.misremitentes(),this.crear=!1})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))):(this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/updatemail",this.dato).then((e=>{console.log(e.data),this.dato={tipo:"EXTERNO",fecha:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),folio:1},this.remitente="",this.destinatario="",this.cargo="",this.institucion="",this.misdatos(),this.misremitentes(),this.crear=!1})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red",icon:"error"})})))}))}}};var Bt=o(2226),Kt=o(7011),Jt=o(2350),Gt=o(6489);Lt.render=Yt;const Xt=Lt;F()(Lt,"components",{QPage:W.Z,QBtn:I.Z,QDialog:ge.Z,QCard:V.Z,QCardSection:fe.Z,QForm:U.Z,QRadio:de.Z,QInput:E.Z,QCardActions:Qe.Z,QTable:ce.Z,QIcon:O.Z,QTd:me.Z,QBadge:pe.Z,QBtnGroup:he.Z,QBtnDropdown:Bt.Z,QList:Kt.Z,QItem:we.Z,QItemSection:be.Z,QItemLabel:Jt.Z,QSelect:Z.Z,QUploader:_e.Z}),F()(Lt,"directives",{ClosePopup:ve.Z,Ripple:Gt.Z});const eo={class:"row"},to={class:"col-12"},oo={class:"row"},ao={class:"col-4 q-pa-xs"},io={class:"col-4 q-pa-xs"},lo={class:"col-4 q-pa-xs flex flex-center"},so={class:"col-12"},no={id:"example",style:{width:"100%"}},ro=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Fecha"),(0,l._)("th",null,"Codigo"),(0,l._)("th",null,"Referencia"),(0,l._)("th",null,"Remitente"),(0,l._)("th",null,"Cargo"),(0,l._)("th",null,"Institucion"),(0,l._)("th",null,"Fecha carta"),(0,l._)("th",null,"Codigo externo")])],-1);function co(e,t,o,i,s,n){const r=(0,l.up)("q-input"),d=(0,l.up)("q-btn"),c=(0,l.up)("q-form"),u=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(u,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l._)("div",eo,[(0,l._)("div",to,[(0,l.Wm)(c,{onSubmit:t[2]||(t[2]=(0,a.iM)((e=>n.consultar()),["prevent"]))},{default:(0,l.w5)((()=>[(0,l._)("div",oo,[(0,l._)("div",ao,[(0,l.Wm)(r,{outlined:"",modelValue:s.fecha1,"onUpdate:modelValue":t[0]||(t[0]=e=>s.fecha1=e),type:"date",label:"Fecha inicio"},null,8,["modelValue"])]),(0,l._)("div",io,[(0,l.Wm)(r,{outlined:"",modelValue:s.fecha2,"onUpdate:modelValue":t[1]||(t[1]=e=>s.fecha2=e),type:"date",label:"Fecha final"},null,8,["modelValue"])]),(0,l._)("div",lo,[(0,l.Wm)(d,{label:"consulta",color:"primary",icon:"search",type:"submit"})])])])),_:1})]),(0,l._)("div",so,[(0,l._)("table",no,[ro,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.mails,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,T.zw)(e.fecha)+" "+(0,T.zw)(e.hora),1),(0,l._)("td",null,(0,T.zw)(e.codigo),1),(0,l._)("td",null,(0,T.zw)(e.ref),1),(0,l._)("td",null,(0,T.zw)(e.remitente),1),(0,l._)("td",null,(0,T.zw)(e.cargo),1),(0,l._)("td",null,(0,T.zw)(e.institucion),1),(0,l._)("td",null,(0,T.zw)(e.fechacarta),1),(0,l._)("td",null,(0,T.zw)(e.codexterno),1)])))),128))])])])])])),_:1})}o(9720);var uo=o(7167),mo=o.n(uo),po=o(182),ho=o.n(po),go=o(7033),fo=o(7345);o(5241)(),o(9720)(),o(2905),o(1400),ho().vfs=go.I.vfs,window.JSZip=mo();const wo={data(){return{fecha1:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),fecha2:ne.ZP.formatDate(Date.now(),"YYYY-MM-DD"),mails:[]}},created(){},mounted(){fo("#example").DataTable({dom:"Bfrtip",buttons:["copy","csv","excel","pdf","print"]}),this.consultar()},methods:{consultar(){this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/consulta",{fecha1:this.fecha1,fecha2:this.fecha2}).then((e=>{this.mails=e.data,this.$q.loading.hide(),fo("#example").DataTable().destroy(),this.$nextTick((()=>{fo("#example").DataTable({dom:"Bfrtip",buttons:["copy","csv","excel","pdf","print"]})}))})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))}}};wo.render=co;const bo=wo;F()(wo,"components",{QPage:W.Z,QForm:U.Z,QInput:E.Z,QBtn:I.Z});const _o={class:"q-px-lg q-pt-xs q-mb-md"},vo={class:"text-h5 text-bold"},xo=(0,l.Uk)(" SICIG "),qo=(0,l._)("div",{style:{"font-size":"14px"}},"Sistema de Informacion de Correspondencia Interna GAMO",-1),ko={class:"text-subtitle1"},yo=(0,l.Uk)("Ingresar"),Wo=(0,l.Uk)(" Ingreso al sistema "),Vo=(0,l.Uk)("Usuarios"),Co=(0,l.Uk)(" Control de usuarios "),Do=(0,l.Uk)("Registro de correspondencia"),So=(0,l.Uk)(" Recepciones de correspondencia "),Ro=(0,l.Uk)("Mis asignaciones"),$o=(0,l.Uk)(" Mis asignaciones "),Uo=(0,l.Uk)("Seguimiento"),Eo=(0,l.Uk)(" Seguimiento de archivos "),Oo=(0,l.Uk)("Reporte"),Io=(0,l.Uk)(" Reporte de correspondencia "),Zo=(0,l.Uk)("Mis recepciones"),Ao=(0,l.Uk)(" Historial de mis recepciones "),Fo=(0,l.Uk)("Salir"),Qo=(0,l.Uk)(" Salir del sistema "),To=(0,l._)("div",{class:"absolute-bottom bg-transparent"},[(0,l._)("div",{class:"text-weight-bold"},"Correspondencia "),(0,l._)("div",null,"Menu")],-1);function zo(e,t,o,a,i,s){const n=(0,l.up)("q-btn"),r=(0,l.up)("q-toolbar-title"),d=(0,l.up)("q-toolbar"),c=(0,l.up)("q-img"),u=(0,l.up)("q-header"),m=(0,l.up)("q-icon"),p=(0,l.up)("q-item-section"),h=(0,l.up)("q-item-label"),g=(0,l.up)("q-item"),f=(0,l.up)("q-list"),w=(0,l.up)("q-scroll-area"),b=(0,l.up)("q-drawer"),_=(0,l.up)("router-view"),v=(0,l.up)("q-page-container"),x=(0,l.up)("q-layout");return(0,l.wg)(),(0,l.j4)(x,{view:"lHh Lpr lFf"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{elevated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:s.toggleLeftDrawer},null,8,["onClick"]),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.$store.state.login.user.name),1)])),_:1}),(0,l._)("div",null,[e.$store.getters["login/isLoggedIn"]?((0,l.wg)(),(0,l.j4)(n,{key:0,label:"Salir",onClick:s.logout,color:"negative",icon:"logout",size:"xs"},null,8,["onClick"])):(0,l.kq)("",!0)])])),_:1}),(0,l._)("div",_o,[(0,l._)("div",vo,[e.$store.getters["login/isLoggedIn"]?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Uk)(" Unidad: "+(0,T.zw)(e.$store.state.login.user.unit.nombre),1)],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[xo,qo],64))]),(0,l._)("div",ko,(0,T.zw)(i.now),1)]),(0,l.Wm)(c,{src:"img/fondo.jpg",class:"header-image absolute-top"})])),_:1}),(0,l.Wm)(b,{modelValue:i.leftDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=e=>i.leftDrawerOpen=e),"show-if-above":"",width:250,breakpoint:600},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{style:{height:"calc(100% - 130px)","margin-top":"130px","border-right":"1px solid #ddd"}},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{padding:""},{default:(0,l.w5)((()=>[e.$store.getters["login/isLoggedIn"]?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(g,{key:0,clickable:"",exact:"",to:"/"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"login"})])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[yo])),_:1}),(0,l.Wm)(h,{caption:""},{default:(0,l.w5)((()=>[Wo])),_:1})])),_:1})])),_:1})),e.$store.state.login.boolusuarios?((0,l.wg)(),(0,l.j4)(g,{key:1,clickable:"",to:"/user"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"people"})])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[Vo])),_:1}),(0,l.Wm)(h,{caption:""},{default:(0,l.w5)((()=>[Co])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0),e.$store.state.login.boolrecepcion?((0,l.wg)(),(0,l.j4)(g,{key:2,clickable:"",to:"/recepcion"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"article"})])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[Do])),_:1}),(0,l.Wm)(h,{caption:""},{default:(0,l.w5)((()=>[So])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0),e.$store.state.login.booldesignacion?((0,l.wg)(),(0,l.j4)(g,{key:3,clickable:"",to:"/asiganacion"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"code"})])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[Ro])),_:1}),(0,l.Wm)(h,{caption:""},{default:(0,l.w5)((()=>[$o])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0),e.$store.state.login.boolseguimiento?((0,l.wg)(),(0,l.j4)(g,{key:4,clickable:"",to:"/seguimiento"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"list"})])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[Uo])),_:1}),(0,l.Wm)(h,{caption:""},{default:(0,l.w5)((()=>[Eo])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0),e.$store.state.login.boolseguimiento?((0,l.wg)(),(0,l.j4)(g,{key:5,clickable:"",to:"/reportecorrespondencia"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"print"})])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[Oo])),_:1}),(0,l.Wm)(h,{caption:""},{default:(0,l.w5)((()=>[Io])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0),e.$store.state.login.boolmisrecepciones?((0,l.wg)(),(0,l.j4)(g,{key:6,clickable:"",to:"/misrecepciones"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"picture_as_pdf"})])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[Zo])),_:1}),(0,l.Wm)(h,{caption:""},{default:(0,l.w5)((()=>[Ao])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0),e.$store.getters["login/isLoggedIn"]?((0,l.wg)(),(0,l.j4)(g,{key:7,clickable:"",onClick:s.logout},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"logout"})])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[Fo])),_:1}),(0,l.Wm)(h,{caption:""},{default:(0,l.w5)((()=>[Qo])),_:1})])),_:1})])),_:1},8,["onClick"])):(0,l.kq)("",!0)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"absolute-top",src:"img/fondo.jpg",style:{height:"130px"}},{default:(0,l.w5)((()=>[To])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_)])),_:1})])),_:1})}const Mo={data(){return{leftDrawerOpen:!1,now:ne.ZP.formatDate(Date.now(),"dddd D  MMMM",{days:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],daysShort:["Dum","Lun"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ian","Feb"]}),unidad:"aa"}},created(){},methods:{toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen},logout(){this.$q.loading.show(),this.$store.dispatch("login/logout").then((()=>{this.$q.loading.hide(),this.$router.push("/")}))}}};var Po=o(9214),No=o(3812),Yo=o(9570),jo=o(3747),Ho=o(4027),Lo=o(2901),Bo=o(7704),Ko=o(2652);Mo.render=zo;const Jo=Mo;F()(Mo,"components",{QLayout:Po.Z,QHeader:No.Z,QToolbar:Yo.Z,QBtn:I.Z,QToolbarTitle:jo.Z,QImg:Ho.Z,QDrawer:Lo.Z,QScrollArea:Bo.Z,QList:Kt.Z,QItem:we.Z,QItemSection:be.Z,QIcon:O.Z,QItemLabel:Jt.Z,QAvatar:Fe.Z,QPageContainer:Ko.Z});const Go=e=>((0,l.dD)("data-v-49604eee"),e=e(),(0,l.Cn)(),e),Xo={class:"row"},ea={class:"col-12"},ta={class:"row"},oa={class:"col-12 col-md-10 q-pa-xs"},aa={class:"col-12 col-md-2 q-pa-xs flex flex-center"},ia={class:"col-12 col-md-4"},la=(0,l.Uk)(" Datos de correspondencia "),sa={class:"row"},na={class:"col-6 q-pa-xs"},ra={class:"col-6 q-pa-xs"},da={class:"col-6 q-pa-xs"},ca={class:"col-6 q-pa-xs"},ua={class:"col-6 q-pa-xs"},ma={class:"col-6 q-pa-xs"},pa={class:"col-6 q-pa-xs"},ha={class:"col-6 q-pa-xs"},ga={class:"col-12 q-pa-xs"},fa={class:"col-12 col-md-8"},wa=(0,l.Uk)(" Datos de historial "),ba={class:"full-width"},_a=Go((()=>(0,l._)("tr",null,[(0,l._)("th",null,"#"),(0,l._)("th",null,"A"),(0,l._)("th",null,"Unidad"),(0,l._)("th",null,"Accion"),(0,l._)("th",null,"Estado")],-1)));function va(e,t,o,i,s,n){const r=(0,l.up)("q-input"),d=(0,l.up)("q-btn"),c=(0,l.up)("q-form"),u=(0,l.up)("q-banner"),m=(0,l.up)("q-badge"),p=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(p,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l._)("div",Xo,[(0,l._)("div",ea,[(0,l.Wm)(c,{onSubmit:(0,a.iM)(n.buscar,["prevent"])},{default:(0,l.w5)((()=>[(0,l._)("div",ta,[(0,l._)("div",oa,[(0,l.Wm)(r,{label:"Ingresar codigo",modelValue:s.codigo,"onUpdate:modelValue":t[0]||(t[0]=e=>s.codigo=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",aa,[(0,l.Wm)(d,{label:"Buscar",color:"primary",icon:"send",type:"submit"})])])])),_:1},8,["onSubmit"])]),(0,l._)("div",ia,[(0,l.Wm)(u,{dense:"",class:"bg-primary text-white"},{default:(0,l.w5)((()=>[la])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l._)("div",sa,[(0,l._)("div",na,[(0,l.Wm)(r,{dense:"",label:"tipo",modelValue:s.email.tipo,"onUpdate:modelValue":t[1]||(t[1]=e=>s.email.tipo=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",ra,[(0,l.Wm)(r,{dense:"",label:"ref",modelValue:s.email.ref,"onUpdate:modelValue":t[2]||(t[2]=e=>s.email.ref=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",da,[(0,l.Wm)(r,{dense:"",label:"remitente",modelValue:s.email.remitente,"onUpdate:modelValue":t[3]||(t[3]=e=>s.email.remitente=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",ca,[(0,l.Wm)(r,{dense:"",label:"cargo",modelValue:s.email.cargo,"onUpdate:modelValue":t[4]||(t[4]=e=>s.email.cargo=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",ua,[(0,l.Wm)(r,{dense:"",label:"institucion",modelValue:s.email.institucion,"onUpdate:modelValue":t[5]||(t[5]=e=>s.email.institucion=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",ma,[(0,l.Wm)(r,{dense:"",label:"fecha",modelValue:s.email.fecha,"onUpdate:modelValue":t[6]||(t[6]=e=>s.email.fecha=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",pa,[(0,l.Wm)(r,{dense:"",label:"folio",modelValue:s.email.folio,"onUpdate:modelValue":t[7]||(t[7]=e=>s.email.folio=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",ha,[(0,l.Wm)(r,{dense:"",label:"estado",modelValue:s.email.estado,"onUpdate:modelValue":t[8]||(t[8]=e=>s.email.estado=e),outlined:""},null,8,["modelValue"])]),(0,l._)("div",ga,[""!=s.email.archivo&&void 0!=s.email.archivo?((0,l.wg)(),(0,l.j4)(d,{key:0,type:"a",href:s.url+"/../imagenes/"+s.email.archivo,target:"__blank",class:"full-width",color:"primary",icon:"file_download",label:s.email.archivo,outlined:""},null,8,["href","label"])):(0,l.kq)("",!0)])])])),_:1})]),(0,l._)("div",fa,[(0,l.Wm)(u,{dense:"",class:"bg-amber text-white"},{default:(0,l.w5)((()=>[wa])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.email.logs,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"row",key:e.id})))),128)),(0,l._)("table",ba,[_a,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.email.logs,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,(0,T.zw)(t+1),1),(0,l._)("td",null,(0,T.zw)(e.user2.name),1),(0,l._)("td",null,(0,T.zw)(e.user2.unit.nombre),1),(0,l._)("td",null,(0,T.zw)(e.accion),1),(0,l._)("td",null,[(0,l.Wm)(m,{color:"REMITIDO"==e.estado||"ARCHIVADO"==e.estado?"positive":"negative"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.estado),1)])),_:2},1032,["color"])])])))),128))])])])])),_:1})}const xa={data(){return{url:"https://back.gamo.cf/api",codigo:"",email:{},mails:[],mails2:[]}},created(){},methods:{buscar(){this.$q.loading.show(),this.email={},this.$axios.post("https://back.gamo.cf/api/con",{codigo:this.codigo}).then((e=>{e.data.length>0&&(this.email=e.data[0]),this.$q.loading.hide()}))},filterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.mails=this.mails2.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.mails=this.mails2})}}};var qa=o(7030);xa.render=va,xa.__scopeId="data-v-49604eee";const ka=xa;F()(xa,"components",{QPage:W.Z,QForm:U.Z,QInput:E.Z,QBtn:I.Z,QBanner:ht.Z,QChip:qa.Z,QBadge:pe.Z});const ya={class:"q-px-lg q-pt-xs q-mb-md"},Wa={class:"text-h5 text-bold"},Va=(0,l.Uk)(" SICIG "),Ca=(0,l._)("div",{style:{"font-size":"14px"}},"Sistema de Informacion de Correspondencia Interna GAMO",-1),Da={class:"text-subtitle1"},Sa=(0,l._)("div",{class:"absolute-bottom bg-transparent"},[(0,l._)("div",{class:"text-weight-bold"},"Correspondencia "),(0,l._)("div",null,"Menu")],-1);function Ra(e,t,o,a,i,s){const n=(0,l.up)("q-btn"),r=(0,l.up)("q-toolbar-title"),d=(0,l.up)("q-toolbar"),c=(0,l.up)("q-img"),u=(0,l.up)("q-header"),m=(0,l.up)("q-list"),p=(0,l.up)("q-scroll-area"),h=(0,l.up)("q-drawer"),g=(0,l.up)("router-view"),f=(0,l.up)("q-page-container"),w=(0,l.up)("q-layout");return(0,l.wg)(),(0,l.j4)(w,{view:"lHh Lpr lFf"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{elevated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:s.toggleLeftDrawer},null,8,["onClick"]),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.$store.state.login.user.name),1)])),_:1}),(0,l._)("div",null,[e.$store.getters["login/isLoggedIn"]?((0,l.wg)(),(0,l.j4)(n,{key:0,label:"Salir",onClick:s.logout,color:"negative",icon:"logout",size:"xs"},null,8,["onClick"])):(0,l.kq)("",!0)])])),_:1}),(0,l._)("div",ya,[(0,l._)("div",Wa,[e.$store.getters["login/isLoggedIn"]?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Uk)(" Unidad: "+(0,T.zw)(e.$store.state.login.user.unit.nombre),1)],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Va,Ca],64))]),(0,l._)("div",Da,(0,T.zw)(i.now),1)]),(0,l.Wm)(c,{src:"img/fondo.jpg",class:"header-image absolute-top"})])),_:1}),(0,l.Wm)(h,{modelValue:i.leftDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=e=>i.leftDrawerOpen=e),"show-if-above":"",width:250,breakpoint:600},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{style:{height:"calc(100% - 130px)","margin-top":"130px","border-right":"1px solid #ddd"}},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{padding:""})])),_:1}),(0,l.Wm)(c,{class:"absolute-top",src:"img/fondo.jpg",style:{height:"130px"}},{default:(0,l.w5)((()=>[Sa])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g)])),_:1})])),_:1})}const $a={data(){return{leftDrawerOpen:!1,now:ne.ZP.formatDate(Date.now(),"dddd D  MMMM",{days:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],daysShort:["Dum","Lun"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ian","Feb"]}),unidad:"aa"}},created(){},methods:{toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen},logout(){this.$q.loading.show(),this.$store.dispatch("login/logout").then((()=>{this.$q.loading.hide(),this.$router.push("/")}))}}};$a.render=Ra;const Ua=$a;F()($a,"components",{QLayout:Po.Z,QHeader:No.Z,QToolbar:Yo.Z,QBtn:I.Z,QToolbarTitle:jo.Z,QImg:Ho.Z,QDrawer:Lo.Z,QScrollArea:Bo.Z,QList:Kt.Z,QItem:we.Z,QItemSection:be.Z,QIcon:O.Z,QItemLabel:Jt.Z,QAvatar:Fe.Z,QPageContainer:Ko.Z});const Ea={class:"row"},Oa={class:"col-12"},Ia={class:"row"},Za={class:"col-4"},Aa={class:"col-4"},Fa={class:"col-4 flex"},Qa={class:"col-12"},Ta={class:""},za={class:"text-h4 text-bold"},Ma={class:""},Pa={class:""},Na={class:""};function Ya(e,t,o,i,s,n){const r=(0,l.up)("q-input"),d=(0,l.up)("q-btn"),c=(0,l.up)("q-form"),u=(0,l.up)("q-td"),m=(0,l.up)("q-icon"),p=(0,l.up)("q-table"),h=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(h,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l._)("div",Ea,[(0,l._)("div",Oa,[(0,l.Wm)(c,{onSubmit:(0,a.iM)(n.consulta,["prevent"])},{default:(0,l.w5)((()=>[(0,l._)("div",Ia,[(0,l._)("div",Za,[(0,l.Wm)(r,{dense:"",outlined:"",modelValue:s.fecha1,"onUpdate:modelValue":t[0]||(t[0]=e=>s.fecha1=e),type:"date",label:"fecha inicio"},null,8,["modelValue"])]),(0,l._)("div",Aa,[(0,l.Wm)(r,{dense:"",outlined:"",modelValue:s.fecha1,"onUpdate:modelValue":t[1]||(t[1]=e=>s.fecha1=e),type:"date",label:"fecha fin"},null,8,["modelValue"])]),(0,l._)("div",Fa,[(0,l.Wm)(d,{type:"submit",class:"full-width",label:"consulta",color:"primary",icon:"search"})])])])),_:1},8,["onSubmit"])]),(0,l._)("div",Qa,[(0,l.Wm)(p,{filter:s.filter,dense:"",square:"",bordered:"",flat:"",title:"Historial de correspondencia","rows-per-page-options":[0],columns:s.columns,rows:s.datos},{"body-cell-citecontrol":(0,l.w5)((e=>[(0,l.Wm)(u,{"auto-width":"",props:e},{default:(0,l.w5)((()=>[(0,l._)("div",Ta,(0,T.zw)(e.row.fecha),1),(0,l._)("div",za,(0,T.zw)(e.row.citecontrol),1)])),_:2},1032,["props"])])),"body-cell-datos":(0,l.w5)((e=>[(0,l.Wm)(u,{"auto-width":"",props:e},{default:(0,l.w5)((()=>[(0,l._)("div",Ma,"DE: "+(0,T.zw)(e.row.remitente),1),(0,l._)("div",Pa,"A: "+(0,T.zw)(e.row.destinatario),1),(0,l._)("div",Na,"REF: "+(0,T.zw)(e.row.ref),1)])),_:2},1032,["props"])])),"top-right":(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:n.impresion,icon:"print",label:"imprimir",color:"positive"},null,8,["onClick"]),(0,l.Wm)(r,{outlined:"",dense:"",modelValue:s.filter,"onUpdate:modelValue":t[2]||(t[2]=e=>s.filter=e),placeholder:"Buscar"},{append:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["filter","columns","rows"])])])])),_:1})}const ja={name:"Reportecorrespondencia",data(){return{filter:"",fecha1:ne.ZP.formatDate(new Date,"YYYY-MM-DD"),fecha2:ne.ZP.formatDate(new Date,"YYYY-MM-DD"),columns:[{name:"citecontrol",label:"citecontrol",field:"citecontrol",align:"center"},{name:"datos",label:"datos",field:"datos",align:"left"},{name:"sello",label:"sello",field:"sello"}],datos:[]}},created(){this.consulta()},mounted(){},methods:{consulta(){this.$q.loading.show(),this.$axios.post("https://back.gamo.cf/api/reportecorrespondencia",{fecha1:this.fecha1,fecha2:this.fecha2}).then((e=>{this.datos=[],this.$q.loading.hide(),e.data.forEach((e=>{e.datos=e.destinatario+e.remitente+e.ref,this.datos.push(e)}))}))},impresion(){this.$q.loading.show();var e=new jt.kH;e.setFont("times","bold"),e.setDrawColor(122);let t=1,o=0;e.roundedRect(5,10,200,282,2,2,"S"),e.roundedRect(183,11,20,8,1,1,"S"),e.setTextColor(158,158,158),e.setFontSize(10),e.text("HOJA "+t,187,14),e.setFontSize(7),e.text("HOJA DE RUTA",184,17),e.setTextColor(0,0,0);let a=0;this.datos.forEach((i=>{o++,e.roundedRect(8,20+34*a,194,34,0,0,"S"),e.line(40,20+34*a,40,54+34*a),e.line(170,20+34*a,170,54+34*a),e.setFontSize(12),e.setFont("times","bold"),e.text(i.fecha.toString(),23,25+34*a,"center"),e.setFont("times","normal"),e.setFontSize(15),e.text(i.citecontrol.toString(),23,38+34*a,"center"),e.setFontSize(10),e.text("De: "+i.remitente,41,25+34*a,"left"),e.text("A: "+i.destinatario,41,30+34*a,"left"),e.text("REF: "+i.ref.substr(0,50),41,35+34*a,"left"),e.text(i.ref.substr(50,50),41,40+34*a,"left"),e.text(i.ref.substr(100,50),41,45+34*a,"left"),e.text(i.ref.substr(150,50),41,50+34*a,"left"),e.setFontSize(10),a++,8==o&&(a=0,o=0,t++,e.addPage(),e.roundedRect(5,10,200,282,2,2,"S"),e.roundedRect(183,11,20,8,1,1,"S"),e.setTextColor(158,158,158),e.setFont("times","bold"),e.setFontSize(10),e.text("HOJA "+t,187,14),e.setFontSize(7),e.text("HOJA DE RUTA",184,17),e.setTextColor(0,0,0),e.setFont("times","normal"))})),window.open(e.output("bloburl"),"_blank"),this.$q.loading.hide()}}};ja.render=Ya;const Ha=ja;F()(ja,"components",{QPage:W.Z,QForm:U.Z,QInput:E.Z,QBtn:I.Z,QTable:ce.Z,QTd:me.Z,QIcon:O.Z});const La=[{path:"/",component:Jo,children:[{path:"",component:Q},{path:"/recepcion",component:xe,meta:{requiresAuth:!0}},{path:"/user",component:Te,meta:{requiresAuth:!0}},{path:"/seguimiento",component:gt,meta:{requiresAuth:!0}},{path:"/asiganacion",component:Xt,meta:{requiresAuth:!0}},{path:"/misrecepciones",component:bo,meta:{requiresAuth:!0}},{path:"/reportecorrespondencia",component:Ha,meta:{requiresAuth:!0}}]},{path:"/consulta",component:Ua,children:[{path:"",component:ka}]},{path:"/:catchAll(.*)*",component:()=>o.e(193).then(o.bind(o,2193))}],Ba=La,Ka=(0,c.BC)((function(){const e=u.r5,t=(0,u.p7)({scrollBehavior:()=>({left:0,top:0}),routes:Ba,history:e("")});return t.beforeEach(((e,t,o)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if((0,d["default"])().getters["login/isLoggedIn"])return void o();o("/")}else o()})),t}));async function Ja(e,t){const a="function"===typeof d["default"]?await(0,d["default"])({}):d["default"],{storeKey:l}=await Promise.resolve().then(o.bind(o,214)),s="function"===typeof Ka?await Ka({store:a}):Ka;a.$router=s;const n=e(r);return n.use(i.Z,t),{app:n,store:a,storeKey:l,router:s}}var Ga=o(729),Xa=o(6249),ei=o(4434),ti=o(1509);const oi={config:{},lang:Ga.Z,plugins:{Loading:Xa.Z,Notify:ei.Z,Dialog:ti.Z}},ai="";async function ii({app:e,router:t,store:o,storeKey:a},i){let l=!1;const s=e=>{l=!0;const o=Object(e)===e?t.resolve(e).fullPath:e;window.location.href=o},n=window.location.href.replace(window.location.origin,"");for(let d=0;!1===l&&d<i.length;d++)try{await i[d]({app:e,router:t,store:o,ssrContext:null,redirect:s,urlPath:n,publicPath:ai})}catch(r){return r&&r.url?void(window.location.href=r.url):void console.error("[Quasar] boot error:",r)}!0!==l&&(e.use(t),e.use(o,a),e.mount("#q-app"))}Ja(a.ri,oi).then((e=>Promise.all([Promise.resolve().then(o.bind(o,5474))]).then((t=>{const o=t.map((e=>e.default)).filter((e=>"function"===typeof e));ii(e,o)}))))},5474:(e,t,o)=>{o.r(t),o.d(t,{default:()=>n,axios:()=>l.a,api:()=>s});var a=o(7083),i=o(52),l=o.n(i);const s=l().create({baseURL:"https://api.example.com"}),n=(0,a.xr)((({app:e,router:t,store:o})=>{e.config.globalProperties.$axios=l();const a=localStorage.getItem("tokencorre");a&&(e.config.globalProperties.$axios.defaults.headers.common["Authorization"]="Bearer "+a,e.config.globalProperties.$axios.post("https://back.gamo.cf/api/me").then((e=>{o.commit("login/auth_success",{token:a,user:e.data})})).catch((e=>{o.commit("login/salir"),localStorage.removeItem("tokencorre")}))),e.config.globalProperties.$api=s}))},214:(e,t,o)=>{o.r(t),o.d(t,{default:()=>q});var a={};o.r(a),o.d(a,{authStatus:()=>c,isLoggedIn:()=>d,unit:()=>m,user:()=>u});var i={};o.r(i),o.d(i,{auth_error:()=>g,auth_request:()=>p,auth_success:()=>h,salir:()=>f});var l={};o.r(l),o.d(l,{login:()=>b,logout:()=>v,register:()=>_});var s=o(7083),n=o(3617);function r(){return{status:"",token:localStorage.getItem("tokencorre")||"",user:{unit:{}},pedido:[],boolusuarios:!1,boolrecepcion:!1,boolseguimiento:!1,booldesignacion:!1,boolmisrecepciones:!1}}function d(e){return!!e.token}function c(e){return e.status}function u(e){return e.user}function m(e){return e.user.unit}function p(e){e.status="loading"}function h(e,t){e.status="success",e.token=t.token,e.user=t.user,e.boolusuarios=void 0!=t.user.permisos.find((e=>1===e.id)),e.boolrecepcion=void 0!=t.user.permisos.find((e=>2===e.id)),e.booldesignacion=void 0!=t.user.permisos.find((e=>3===e.id)),e.boolseguimiento=void 0!=t.user.permisos.find((e=>4===e.id)),e.boolmisrecepciones=void 0!=t.user.permisos.find((e=>5===e.id))}function g(e){e.status="error"}function f(e){e.status="",e.token="",e.boolusuarios=!1,e.boolrecepcion=!1,e.boolseguimiento=!1,e.user={unit:{}},e.booldesignacion=!1,e.boolmisrecepciones=!1}var w=o(5474);function b({commit:e},t){return new Promise(((o,a)=>{e("auth_request"),w.axios.post("https://back.gamo.cf/api/login",t).then((t=>{const a=t.data.token,i=t.data.user;localStorage.setItem("tokencorre",a),w.axios.defaults.headers.common.Authorization="Bearer "+a,e("auth_success",{token:a,user:i}),o(t)})).catch((t=>{e("auth_error"),localStorage.removeItem("tokencorre"),a(t)}))}))}function _({commit:e},t){return new Promise(((o,a)=>{e("auth_request"),w.axios.post("https://back.gamo.cf/api/register",t).then((t=>{console.log(t.data);const a=t.data.token,i=t.data.user;localStorage.setItem("tokencorre",a),w.axios.defaults.headers.common.Authorization="Bearer "+a,e("auth_success",{token:a,user:i}),o(t)})).catch((t=>{e("auth_error"),localStorage.removeItem("tokencorre"),a(t)}))}))}function v({commit:e}){return new Promise(((t,o)=>{w.axios.post("https://back.gamo.cf/api/logout").then((o=>{e("salir"),localStorage.removeItem("tokencorre"),delete w.axios.defaults.headers.common.Authorization,t()})).catch((t=>{e("auth_error"),localStorage.removeItem("tokencorre"),o(t)}))}))}const x={namespaced:!0,state:r,getters:a,mutations:i,actions:l},q=(0,s.h)((function(){const e=(0,n.MT)({modules:{login:x},strict:!1});return e}))}},t={};function o(a){var i=t[a];if(void 0!==i)return i.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,o),l.exports}o.m=e,(()=>{var e=[];o.O=(t,a,i,l)=>{if(!a){var s=1/0;for(c=0;c<e.length;c++){for(var[a,i,l]=e[c],n=!0,r=0;r<a.length;r++)(!1&l||s>=l)&&Object.keys(o.O).every((e=>o.O[e](a[r])))?a.splice(r--,1):(n=!1,l<s&&(s=l));if(n){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,i,l]}})(),(()=>{o.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return o.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;o.t=function(a,i){if(1&i&&(a=this(a)),8&i)return a;if("object"===typeof a&&a){if(4&i&&a.__esModule)return a;if(16&i&&"function"===typeof a.then)return a}var l=Object.create(null);o.r(l);var s={};e=e||[null,t({}),t([]),t(t)];for(var n=2&i&&a;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((e=>s[e]=()=>a[e]));return s["default"]=()=>a,o.d(l,s),l}})(),(()=>{o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,a)=>(o.f[a](e,t),t)),[]))})(),(()=>{o.u=e=>"js/"+e+".d38afb42.js"})(),(()=>{o.miniCssF=e=>"css/"+{143:"app",736:"vendor"}[e]+"."+{143:"c4ccfd67",736:"43e809e8"}[e]+".css"})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="correspondecia:";o.l=(a,i,l,s)=>{if(e[a])e[a].push(i);else{var n,r;if(void 0!==l)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+l){n=u;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,o.nc&&n.setAttribute("nonce",o.nc),n.setAttribute("data-webpack",t+l),n.src=a),e[a]=[i];var m=(t,o)=>{n.onerror=n.onload=null,clearTimeout(p);var i=e[a];if(delete e[a],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((e=>e(o))),t)return t(o)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),r&&document.head.appendChild(n)}}})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.p=""})(),(()=>{var e={143:0};o.f.j=(t,a)=>{var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)a.push(i[2]);else{var l=new Promise(((o,a)=>i=e[t]=[o,a]));a.push(i[2]=l);var s=o.p+o.u(t),n=new Error,r=a=>{if(o.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var l=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;n.message="Loading chunk "+t+" failed.\n("+l+": "+s+")",n.name="ChunkLoadError",n.type=l,n.request=s,i[1](n)}};o.l(s,r,"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,a)=>{var i,l,[s,n,r]=a,d=0;if(s.some((t=>0!==e[t]))){for(i in n)o.o(n,i)&&(o.m[i]=n[i]);if(r)var c=r(o)}for(t&&t(a);d<s.length;d++)l=s[d],o.o(e,l)&&e[l]&&e[l][0](),e[s[d]]=0;return o.O(c)},a=self["webpackChunkcorrespondecia"]=self["webpackChunkcorrespondecia"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=o.O(void 0,[736],(()=>o(3535)));a=o.O(a)})();